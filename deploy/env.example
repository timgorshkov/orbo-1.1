# ============================================
# Orbo Production Environment Variables
# ============================================
# 
# IMPORTANT: Copy this file to .env and fill in the values
# NEVER commit .env file to Git!
#
# Usage:
#   cp env.example .env
#   nano .env  # Edit values
#

# ============================================
# PostgreSQL Database
# ============================================
# Generate strong password: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_32_CHARS

# Full database URL (used by the app)
# Note: 'postgres' is the container name in docker-compose
DATABASE_URL=postgresql://orbo:${POSTGRES_PASSWORD}@postgres:5432/orbo

# ============================================
# Application Settings
# ============================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://YOUR_DOMAIN.ru

# ============================================
# Selectel S3 Storage
# ============================================
# Provider: 's3' | 'r2' | 'local'
STORAGE_PROVIDER=s3

# Selectel S3 credentials
# Get from: my.selectel.ru -> Управление -> Сервисные пользователи
SELECTEL_ACCESS_KEY=your_access_key_from_selectel
SELECTEL_SECRET_KEY=your_secret_key_from_selectel
SELECTEL_BUCKET=orbo-materials
SELECTEL_ENDPOINT=https://s3.storage.selcloud.ru
SELECTEL_REGION=ru-1

# Public URL for files - get from Selectel panel (bucket → Public URL)
# Format: https://<container-uuid>.selstorage.ru
SELECTEL_PUBLIC_URL_BASE=https://YOUR_CONTAINER_UUID.selstorage.ru

# Optional: Custom CDN domain (if configured)
# SELECTEL_PUBLIC_URL_BASE=https://cdn.YOUR_DOMAIN.ru

# ============================================
# Telegram Bot
# ============================================
# Bot username WITHOUT @ symbol
NEXT_PUBLIC_TELEGRAM_BOT_USERNAME=orbo_community_bot

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# Webhook secret for verifying Telegram requests
# Generate: openssl rand -hex 32
TELEGRAM_WEBHOOK_SECRET=generate_random_secret_here

# ============================================
# Telegram Registration Bot (MiniApp)
# ============================================
# Separate bot for ad traffic registration
# Create via @BotFather, set Menu Button → MiniApp URL
# TELEGRAM_REGISTRATION_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
# TELEGRAM_REGISTRATION_BOT_USERNAME=orbo_start_bot

# ============================================
# OpenAI (for AI features)
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key

# Proxy for OpenAI API (required from Russia)
# Format: http://user:pass@host:port
OPENAI_PROXY_URL=http://user:password@proxy.example.com:10001

# ============================================
# Email Provider
# ============================================
# Provider: 'mailgun' | 'unisender' | 'console'
EMAIL_PROVIDER=unisender

# --- Unisender Go (рекомендуется для России) ---
# Документация: https://godocs.unisender.ru/
UNISENDER_API_KEY=your_unisender_go_api_key
UNISENDER_FROM_EMAIL=noreply@YOUR_DOMAIN.ru
UNISENDER_FROM_NAME=Orbo

# --- Mailgun (альтернатива) ---
# MAILGUN_API_KEY=your_mailgun_api_key
# MAILGUN_DOMAIN=mail.YOUR_DOMAIN.ru
# MAILGUN_FROM_EMAIL=noreply@YOUR_DOMAIN.ru

# ============================================
# Hawk Error Monitoring (hawk.so)
# ============================================
# Российская альтернатива Sentry
# 1. Зарегистрируйтесь на https://hawk.so
# 2. Создайте проект
# 3. Скопируйте Integration Token
HAWK_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================
# Cron Jobs
# ============================================
# Secret for authenticating cron requests
# Generate: openssl rand -hex 32
CRON_SECRET=generate_random_cron_secret_here

# Telegram chat ID for admin notifications (errors, alerts)
# Get your chat ID: message @userinfobot on Telegram
TELEGRAM_ADMIN_CHAT_ID=your_telegram_chat_id

# ============================================
# Optional: Analytics
# ============================================
# VERCEL_ANALYTICS_ID=your_vercel_analytics_id

# ============================================
# OAuth Providers (NextAuth.js v5)
# ============================================
# NextAuth secret (REQUIRED for OAuth)
# Generate: openssl rand -base64 32
AUTH_SECRET=your_nextauth_secret_here

# Auth URL (REQUIRED - полный URL приложения)
# Используется для формирования callback URLs
AUTH_URL=https://YOUR_DOMAIN.ru

# Trust host header (REQUIRED for Docker/reverse proxy)
# Позволяет NextAuth доверять X-Forwarded-Host заголовкам
AUTH_TRUST_HOST=true

# --- Google OAuth (REQUIRED for OAuth) ---
# 1. Создать проект: https://console.developers.google.com/
# 2. APIs & Services → Credentials → Create OAuth Client ID
# 3. Application type: Web application
# 4. Authorized redirect URIs: https://YOUR_DOMAIN.ru/api/auth/callback/google
# 5. Скопировать Client ID и Client Secret
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# --- Yandex OAuth (REQUIRED for OAuth) ---
# 1. Создать приложение: https://oauth.yandex.ru/
# 2. Тип приложения: Веб-сервисы
# 3. Redirect URI: https://YOUR_DOMAIN.ru/api/auth/callback/yandex
# 4. Права: login:email, login:info, login:avatar
# 5. Скопировать ID и Password (это Client Secret)
YANDEX_CLIENT_ID=your_yandex_client_id
YANDEX_CLIENT_SECRET=your_yandex_client_secret

# ============================================
# Security
# ============================================
# JWT Secret for custom auth tokens
# Generate: openssl rand -base64 64
# JWT_SECRET=your_jwt_secret_here

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=https://YOUR_DOMAIN.ru,https://www.YOUR_DOMAIN.ru

