# Настройка Cursor для удалённой разработки

Cursor поддерживает удалённое подключение к серверам через SSH, что позволяет редактировать файлы напрямую на сервере.

## Быстрая настройка

### 1. Установите расширение Remote - SSH

1. Нажмите `Ctrl+Shift+X` (Расширения)
2. Поиск: `Remote - SSH`
3. Установите расширение от Microsoft

### 2. Добавьте сервер

1. Нажмите `Ctrl+Shift+P` (Command Palette)
2. Введите: `Remote-SSH: Add New SSH Host`
3. Введите строку подключения:
   ```
   ssh deploy@IP_СЕРВЕРА -i ~/.ssh/selectel_key
   ```
4. Выберите файл конфигурации: `C:\Users\ВАШ_ПОЛЬЗОВАТЕЛЬ\.ssh\config`

### 3. Подключитесь к серверу

1. Нажмите `Ctrl+Shift+P`
2. Введите: `Remote-SSH: Connect to Host`
3. Выберите `selectel-orbo` (или как назвали хост)
4. Дождитесь установки Cursor Server на сервере (первый раз ~1-2 минуты)

### 4. Откройте проект

1. После подключения: `File > Open Folder`
2. Выберите `/home/deploy/orbo/`
3. Теперь вы можете редактировать файлы прямо на сервере!

## SSH Config

Файл `~/.ssh/config` должен выглядеть так:

```
Host selectel-orbo
    HostName IP_ВАШЕГО_СЕРВЕРА
    User deploy
    IdentityFile ~/.ssh/selectel_key
    ForwardAgent yes
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

## Полезные команды в Cursor

- `Ctrl+`` ` — открыть терминал (на сервере!)
- `Ctrl+Shift+P` → `Remote-SSH: Show Log` — логи подключения
- `Ctrl+Shift+P` → `Remote-SSH: Kill VS Code Server on Host` — перезапуск сервера

## Работа с файлами

При подключении к серверу:
- Все файловые операции выполняются **на сервере**
- Терминал открывается **на сервере**
- Можно редактировать `.env`, конфиги и т.д. напрямую

## Troubleshooting

### Ошибка подключения

```powershell
# Проверьте SSH-ключ
ssh -v selectel-orbo

# Если ошибка "Permission denied", проверьте:
# 1. Путь к ключу в config
# 2. Права на файл ключа (должны быть 600)
```

### Cursor долго подключается

```bash
# На сервере удалите кэш VS Code Server
rm -rf ~/.vscode-server
```

### Расширения не работают

Некоторые расширения нужно установить заново для сервера:
1. Подключитесь к серверу
2. `Ctrl+Shift+X`
3. Установите нужные расширения (они установятся на сервер)

## Рекомендуемые расширения для сервера

После подключения установите:
- **ESLint** — линтинг JavaScript/TypeScript
- **Prettier** — форматирование кода
- **Docker** — управление контейнерами
- **GitLens** — расширенная работа с Git

