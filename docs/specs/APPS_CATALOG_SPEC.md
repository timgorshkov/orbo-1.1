# üß© –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π –∫–∞—Ç–∞–ª–æ–≥

**–î–∞—Ç–∞:** 7 —è–Ω–≤–∞—Ä—è 2026  
**–°–ø—Ä–∏–Ω—Ç:** –§–µ–≤—Ä–∞–ª—å W1-2  
**–°—Ç–∞—Ç—É—Å:** In Development  
**–ü–µ—Ä–≤—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä:** Votum (@votumfit_bot)

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
3. [API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#api-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
4. [UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
5. [Superadmin –ø–∞–Ω–µ–ª—å](#superadmin-–ø–∞–Ω–µ–ª—å)
6. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Votum](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-votum)
7. [–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è](#—Ñ–∞–π–ª—ã-–¥–ª—è-—Å–æ–∑–¥–∞–Ω–∏—è)
8. [–ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#—á–µ–∫–ª–∏—Å—Ç-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

---

## 1. –û–ë–ó–û–†

### 1.1 –¶–µ–ª–∏

1. **–ï–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** ‚Äî –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ
2. **–í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è = Telegram MiniApps** ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
3. **–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π –∫–∞—Ç–∞–ª–æ–≥** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ MiniApps
4. **Superadmin —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
5. **–¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π** ‚Äî –∫–∞–∫–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–∏, –≤ –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö

### 1.2 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         ORBO APPS ECOSYSTEM                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    –°–¢–†–ê–ù–ò–¶–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–ô                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                    /p/[org]/apps                              ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  üì± –í–ê–®–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫)                     ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                                          ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ –ë–∞—Ä–∞—Ö–æ–ª–∫–∞  ‚îÇ ‚îÇ Votum      ‚îÇ ‚îÇ –í–∞–∫–∞–Ω—Å–∏–∏   ‚îÇ           ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ‚îÇ ‚îÇ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞‚îÇ ‚îÇ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ‚îÇ           ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ [–û—Ç–∫—Ä—ã—Ç—å]  ‚îÇ ‚îÇ [–û—Ç–∫—Ä—ã—Ç—å]  ‚îÇ ‚îÇ [–û—Ç–∫—Ä—ã—Ç—å]  ‚îÇ           ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  [üìÇ –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π]        [‚ú® –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ] ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    –ö–ê–¢–ê–õ–û–ì –ü–†–ò–õ–û–ñ–ï–ù–ò–ô                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                    /p/[org]/apps/catalog                      ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ  üîç [–ü–æ–∏—Å–∫...]                      –ö–∞—Ç–µ–≥–æ—Ä–∏—è: [–í—Å–µ ‚ñº]       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ü§ù Votum   ‚îÇ ‚îÇ üìä [App 2] ‚îÇ ‚îÇ üéØ [App 3] ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ –ú—ç—Ç—á–∏–Ω–≥   ‚îÇ ‚îÇ ...        ‚îÇ ‚îÇ ...        ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ –∑–∞–ø—Ä–æ—Å–æ–≤  ‚îÇ ‚îÇ            ‚îÇ ‚îÇ            ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ[–ü–æ–¥—Ä–æ–±–Ω–µ–µ]‚îÇ ‚îÇ[–ü–æ–¥—Ä–æ–±–Ω–µ–µ] ‚îÇ ‚îÇ[–ü–æ–¥—Ä–æ–±–Ω–µ–µ] ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. –ë–ê–ó–ê –î–ê–ù–ù–´–•

### 2.1 –ú–∏–≥—Ä–∞—Ü–∏—è: `db/migrations/180_public_apps_catalog.sql`

```sql
-- ============================================================
-- –ü–£–ë–õ–ò–ß–ù–´–ô –ö–ê–¢–ê–õ–û–ì –ü–†–ò–õ–û–ñ–ï–ù–ò–ô
-- ============================================================

-- –ö–∞—Ç–∞–ª–æ–≥ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö/–ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è superadmin)
CREATE TABLE public_apps (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  name TEXT NOT NULL,                      -- "Votum"
  slug TEXT NOT NULL UNIQUE,               -- "votum" (–¥–ª—è URL)
  short_description TEXT,                  -- "–ú—ç—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤"
  full_description TEXT,                   -- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (Markdown)
  
  -- –í–∏–∑—É–∞–ª
  icon_url TEXT,                           -- URL –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  banner_url TEXT,                         -- URL –±–∞–Ω–Ω–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  screenshots JSONB DEFAULT '[]'::jsonb,   -- [{url, caption}]
  
  -- Telegram MiniApp
  bot_username TEXT NOT NULL,              -- "votumfit_bot"
  miniapp_url TEXT,                        -- t.me/votumfit_bot/app (–µ—Å–ª–∏ –µ—Å—Ç—å)
  bot_deep_link_template TEXT,             -- "t.me/votumfit_bot?startgroup={org_id}"
  
  -- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
  setup_instructions TEXT,                 -- Markdown –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é
  features JSONB DEFAULT '[]'::jsonb,      -- ["–ú—ç—Ç—á–∏–Ω–≥", "–ó–∞–ø—Ä–æ—Å—ã", "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è"]
  
  -- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
  category TEXT DEFAULT 'other',           -- 'engagement', 'moderation', 'analytics', 'ai', 'other'
  tags JSONB DEFAULT '[]'::jsonb,          -- ["–Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥", "–∑–∞–ø—Ä–æ—Å—ã", "–º—ç—Ç—á–∏–Ω–≥"]
  
  -- –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ
  partner_name TEXT,                       -- "Votum Team"
  partner_website TEXT,                    -- "https://votum.fit"
  partner_contact TEXT,                    -- Email –∏–ª–∏ Telegram
  
  -- –°—Ç–∞—Ç—É—Å –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  status TEXT DEFAULT 'draft',             -- 'draft', 'active', 'paused', 'deprecated'
  featured BOOLEAN DEFAULT false,          -- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ç–æ–ø–µ –∫–∞—Ç–∞–ª–æ–≥–∞
  sort_order INTEGER DEFAULT 0,
  
  -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–ª—è –±—É–¥—É—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)
  config JSONB DEFAULT '{}'::jsonb
);

-- –ò–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_public_apps_status ON public_apps(status);
CREATE INDEX idx_public_apps_category ON public_apps(category);
CREATE INDEX idx_public_apps_featured ON public_apps(featured) WHERE featured = true;

-- ============================================================
-- –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–ô –ö –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø–ú
-- ============================================================

CREATE TABLE public_app_connections (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- –°–≤—è–∑–∏
  public_app_id UUID NOT NULL REFERENCES public_apps(id) ON DELETE CASCADE,
  org_id UUID NOT NULL REFERENCES organizations(id) ON DELETE CASCADE,
  
  -- –ö—Ç–æ –ø–æ–¥–∫–ª—é—á–∏–ª
  connected_by UUID REFERENCES auth.users(id),
  
  -- –í –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ API)
  connected_groups JSONB DEFAULT '[]'::jsonb,
  -- –§–æ—Ä–º–∞—Ç: [{chat_id: -123456, title: "–ì—Ä—É–ø–ø–∞", connected_at: "2026-01-15T12:00:00Z"}]
  
  -- –°—Ç–∞—Ç—É—Å
  status TEXT DEFAULT 'active',            -- 'active', 'paused', 'disconnected'
  
  -- –ó–∞–º–µ—Ç–∫–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
  notes TEXT,
  
  UNIQUE(public_app_id, org_id)
);

-- –ò–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_public_app_connections_org ON public_app_connections(org_id);
CREATE INDEX idx_public_app_connections_app ON public_app_connections(public_app_id);

-- ============================================================
-- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
-- ============================================================

-- –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ + —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ)
CREATE OR REPLACE FUNCTION get_org_apps(p_org_id UUID)
RETURNS TABLE (
  id UUID,
  name TEXT,
  description TEXT,
  icon_url TEXT,
  app_type TEXT,           -- 'own' –∏–ª–∏ 'catalog'
  source_id UUID,          -- org_app.id –∏–ª–∏ public_app.id
  miniapp_url TEXT,
  status TEXT,
  created_at TIMESTAMPTZ
) AS $$
BEGIN
  RETURN QUERY
  -- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)
  SELECT 
    oa.id,
    oa.name,
    oa.description,
    oa.icon_url,
    'own'::TEXT as app_type,
    oa.id as source_id,
    oa.miniapp_url,
    oa.status,
    oa.created_at
  FROM org_apps oa
  WHERE oa.org_id = p_org_id
    AND oa.status != 'deleted'
  
  UNION ALL
  
  -- –ü–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
  SELECT 
    pac.id,
    pa.name,
    pa.short_description as description,
    pa.icon_url,
    'catalog'::TEXT as app_type,
    pa.id as source_id,
    pa.miniapp_url,
    pac.status,
    pac.created_at
  FROM public_app_connections pac
  JOIN public_apps pa ON pa.id = pac.public_app_id
  WHERE pac.org_id = p_org_id
    AND pac.status = 'active'
  
  ORDER BY created_at DESC;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è superadmin
CREATE OR REPLACE FUNCTION get_public_app_stats(p_app_id UUID)
RETURNS TABLE (
  total_connections BIGINT,
  active_connections BIGINT,
  total_groups BIGINT
) AS $$
BEGIN
  RETURN QUERY
  SELECT 
    COUNT(*)::BIGINT as total_connections,
    COUNT(*) FILTER (WHERE status = 'active')::BIGINT as active_connections,
    (
      SELECT COALESCE(SUM(jsonb_array_length(connected_groups)), 0)::BIGINT
      FROM public_app_connections
      WHERE public_app_id = p_app_id AND status = 'active'
    ) as total_groups
  FROM public_app_connections
  WHERE public_app_id = p_app_id;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- ============================================================
-- RLS POLICIES
-- ============================================================

ALTER TABLE public_apps ENABLE ROW LEVEL SECURITY;
ALTER TABLE public_app_connections ENABLE ROW LEVEL SECURITY;

-- Public apps: –≤—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ
CREATE POLICY "Public apps are viewable by authenticated users"
  ON public_apps FOR SELECT
  TO authenticated
  USING (status = 'active');

-- Public apps: —Ç–æ–ª—å–∫–æ superadmin –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å
CREATE POLICY "Only superadmin can manage public apps"
  ON public_apps FOR ALL
  TO authenticated
  USING (
    EXISTS (
      SELECT 1 FROM auth.users 
      WHERE id = auth.uid() 
      AND raw_user_meta_data->>'is_superadmin' = 'true'
    )
  );

-- Connections: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
CREATE POLICY "Users can view own org connections"
  ON public_app_connections FOR SELECT
  TO authenticated
  USING (
    EXISTS (
      SELECT 1 FROM org_members 
      WHERE org_id = public_app_connections.org_id 
      AND user_id = auth.uid()
    )
  );

-- Connections: –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
CREATE POLICY "Admins can manage org connections"
  ON public_app_connections FOR ALL
  TO authenticated
  USING (
    EXISTS (
      SELECT 1 FROM org_members 
      WHERE org_id = public_app_connections.org_id 
      AND user_id = auth.uid()
      AND role IN ('owner', 'admin')
    )
  );
```

### 2.2 –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: Votum

```sql
-- –í—Å—Ç–∞–≤–∫–∞ Votum –≤ –∫–∞—Ç–∞–ª–æ–≥
INSERT INTO public_apps (
  name,
  slug,
  short_description,
  full_description,
  bot_username,
  miniapp_url,
  bot_deep_link_template,
  setup_instructions,
  features,
  category,
  tags,
  partner_name,
  partner_website,
  status,
  featured,
  sort_order
) VALUES (
  'Votum',
  'votum',
  '–ú—ç—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞',
  '## Votum ‚Äî —É–º–Ω—ã–π –º—ç—Ç—á–∏–Ω–≥ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤

Votum –ø–æ–º–æ–≥–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞:

- üìù **–ó–∞–ø—Ä–æ—Å—ã** ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—É–±–ª–∏–∫—É—é—Ç —á—Ç–æ –∏—â—É—Ç
- üí° **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** ‚Äî –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- ü§ù **–ú—ç—Ç—á–∏–Ω–≥** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö –ª—é–¥–µ–π

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –£—á–∞—Å—Ç–Ω–∏–∫ –ø–∏—à–µ—Ç –≤ —á–∞—Ç —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å
2. Votum –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –∏—â–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
3. –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–≤—è–∑–∏

### –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è

- –ë–∏–∑–Ω–µ—Å-–∫–ª—É–±–æ–≤ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥-—Å–æ–æ–±—â–µ—Å—Ç–≤
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º—å—é–Ω–∏—Ç–∏
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —á–∞—Ç–æ–≤ —Å –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â—å—é',
  'votumfit_bot',
  't.me/votumfit_bot/app',
  't.me/votumfit_bot?startgroup=orbo_{org_id}',
  '## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Votum

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Telegram-–≥—Ä—É–ø–ø—É
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã ‚Üí "–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤"
3. –ù–∞–π–¥–∏—Ç–µ @votumfit_bot –∏ –¥–æ–±–∞–≤—å—Ç–µ

### –®–∞–≥ 2: –î–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç –¥–æ–ª–∂–µ–Ω:
- –ß–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

### –®–∞–≥ 3: –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ

–ù–∞–ø–∏—à–∏—Ç–µ –≤ –≥—Ä—É–ø–ø–µ `/start` ‚Äî –±–æ—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∏ –ø—Ä–∏—à–ª—ë—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.

### –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –∞ Votum –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –º—ç—Ç—á–∏.',
  '["–ú—ç—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤", "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫", "–ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥", "Telegram MiniApp"]'::jsonb,
  'engagement',
  '["–Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥", "–∑–∞–ø—Ä–æ—Å—ã", "–º—ç—Ç—á–∏–Ω–≥", "b2b", "–∫–æ–º—å—é–Ω–∏—Ç–∏"]'::jsonb,
  'Votum Team',
  'https://t.me/votumfit_bot',
  'active',
  true,
  1
);
```

---

## 3. API –≠–ù–î–ü–û–ò–ù–¢–´

### 3.1 –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

#### GET `/api/apps/catalog`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –∫–∞—Ç–∞–ª–æ–≥–µ.

```typescript
// app/api/apps/catalog/route.ts

import { createClientServer } from '@/lib/supabase/server';
import { createAPILogger } from '@/lib/logger';

const logger = createAPILogger('apps-catalog');

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const category = searchParams.get('category');
  const search = searchParams.get('search');
  
  const supabase = await createClientServer();
  
  let query = supabase
    .from('public_apps')
    .select('*')
    .eq('status', 'active')
    .order('featured', { ascending: false })
    .order('sort_order', { ascending: true });
  
  if (category && category !== 'all') {
    query = query.eq('category', category);
  }
  
  if (search) {
    query = query.or(`name.ilike.%${search}%,short_description.ilike.%${search}%`);
  }
  
  const { data, error } = await query;
  
  if (error) {
    logger.error('Failed to fetch catalog', { error: error.message });
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  return Response.json({ apps: data });
}
```

#### GET `/api/apps/catalog/[appId]`
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```typescript
// app/api/apps/catalog/[appId]/route.ts

export async function GET(
  request: Request,
  { params }: { params: { appId: string } }
) {
  const supabase = await createClientServer();
  
  const { data: app, error } = await supabase
    .from('public_apps')
    .select('*')
    .eq('id', params.appId)
    .eq('status', 'active')
    .single();
  
  if (error || !app) {
    return Response.json({ error: 'App not found' }, { status: 404 });
  }
  
  return Response.json({ app });
}
```

### 3.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

#### POST `/api/apps/catalog/[appId]/connect`
–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

```typescript
// app/api/apps/catalog/[appId]/connect/route.ts

import { requireOrgAccess } from '@/lib/auth/requireOrgAccess';

export async function POST(
  request: Request,
  { params }: { params: { appId: string } }
) {
  const { orgId } = await request.json();
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
  const { user, error: authError } = await requireOrgAccess(orgId, ['owner', 'admin']);
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  const supabase = await createAdminServer();
  
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∞–∫—Ç–∏–≤–Ω–æ
  const { data: app } = await supabase
    .from('public_apps')
    .select('id, name')
    .eq('id', params.appId)
    .eq('status', 'active')
    .single();
  
  if (!app) {
    return Response.json({ error: 'App not found' }, { status: 404 });
  }
  
  // –°–æ–∑–¥–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
  const { data: connection, error } = await supabase
    .from('public_app_connections')
    .upsert({
      public_app_id: params.appId,
      org_id: orgId,
      connected_by: user.id,
      status: 'active',
      updated_at: new Date().toISOString()
    }, {
      onConflict: 'public_app_id,org_id'
    })
    .select()
    .single();
  
  if (error) {
    logger.error('Failed to connect app', { error: error.message, appId: params.appId, orgId });
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  logger.info('App connected', { appId: params.appId, orgId, appName: app.name });
  
  return Response.json({ connection, app });
}
```

#### DELETE `/api/apps/catalog/[appId]/connect`
–û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

```typescript
export async function DELETE(
  request: Request,
  { params }: { params: { appId: string } }
) {
  const { orgId } = await request.json();
  
  const { user, error: authError } = await requireOrgAccess(orgId, ['owner', 'admin']);
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  const supabase = await createAdminServer();
  
  const { error } = await supabase
    .from('public_app_connections')
    .update({ status: 'disconnected', updated_at: new Date().toISOString() })
    .eq('public_app_id', params.appId)
    .eq('org_id', orgId);
  
  if (error) {
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  return Response.json({ success: true });
}
```

### 3.3 –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫)

#### GET `/api/apps/org/[orgId]`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ + –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ).

```typescript
// app/api/apps/org/[orgId]/route.ts

export async function GET(
  request: Request,
  { params }: { params: { orgId: string } }
) {
  const { error: authError } = await requireOrgAccess(params.orgId);
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  const supabase = await createClientServer();
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º RPC —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
  const { data: apps, error } = await supabase
    .rpc('get_org_all_apps', { p_org_id: params.orgId });
  
  if (error) {
    logger.error('Failed to fetch org apps', { error: error.message, orgId: params.orgId });
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  return Response.json({ apps });
}
```

### 3.4 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### PATCH `/api/apps/connections/[connectionId]/groups`
–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

```typescript
// app/api/apps/connections/[connectionId]/groups/route.ts

export async function PATCH(
  request: Request,
  { params }: { params: { connectionId: string } }
) {
  const { groups } = await request.json();
  // groups: [{chat_id: -123456, title: "–ì—Ä—É–ø–ø–∞"}]
  
  const supabase = await createAdminServer();
  
  // –ü–æ–ª—É—á–∏—Ç—å connection –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
  const { data: connection } = await supabase
    .from('public_app_connections')
    .select('org_id')
    .eq('id', params.connectionId)
    .single();
  
  if (!connection) {
    return Response.json({ error: 'Connection not found' }, { status: 404 });
  }
  
  const { error: authError } = await requireOrgAccess(connection.org_id, ['owner', 'admin']);
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  // –î–æ–±–∞–≤–ª—è–µ–º timestamp –∫ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ
  const groupsWithTimestamp = groups.map((g: any) => ({
    ...g,
    connected_at: g.connected_at || new Date().toISOString()
  }));
  
  const { error } = await supabase
    .from('public_app_connections')
    .update({ 
      connected_groups: groupsWithTimestamp,
      updated_at: new Date().toISOString()
    })
    .eq('id', params.connectionId);
  
  if (error) {
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  return Response.json({ success: true });
}
```

---

## 4. UI –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 4.1 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π `/p/[org]/apps/page.tsx`

```tsx
// app/p/[org]/apps/page.tsx

import { Suspense } from 'react';
import { OrgAppsContent } from './org-apps-content';
import { Skeleton } from '@/components/ui/skeleton';

export default async function AppsPage({ 
  params 
}: { 
  params: { org: string } 
}) {
  return (
    <div className="container py-6">
      <Suspense fallback={<AppsPageSkeleton />}>
        <OrgAppsContent orgSlug={params.org} />
      </Suspense>
    </div>
  );
}

function AppsPageSkeleton() {
  return (
    <div className="space-y-6">
      <Skeleton className="h-8 w-48" />
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {[1, 2, 3].map(i => (
          <Skeleton key={i} className="h-40" />
        ))}
      </div>
    </div>
  );
}
```

### 4.2 –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

```tsx
// app/p/[org]/apps/org-apps-content.tsx

'use client';

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { AppCard } from '@/components/apps/app-card';
import { FolderOpen, Sparkles } from 'lucide-react';
import Link from 'next/link';

interface OrgApp {
  id: string;
  name: string;
  description: string;
  icon_url: string | null;
  app_type: 'own' | 'catalog';
  source_id: string;
  miniapp_url: string | null;
  status: string;
  created_at: string;
}

export function OrgAppsContent({ orgSlug }: { orgSlug: string }) {
  const [apps, setApps] = useState<OrgApp[]>([]);
  const [loading, setLoading] = useState(true);
  const [orgId, setOrgId] = useState<string | null>(null);

  useEffect(() => {
    async function loadApps() {
      // –ü–æ–ª—É—á–∏—Ç—å orgId –ø–æ slug
      const orgRes = await fetch(`/api/organizations/by-slug/${orgSlug}`);
      const { org } = await orgRes.json();
      setOrgId(org.id);
      
      // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      const res = await fetch(`/api/apps/org/${org.id}`);
      const { apps } = await res.json();
      setApps(apps || []);
      setLoading(false);
    }
    
    loadApps();
  }, [orgSlug]);

  if (loading) {
    return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  }

  return (
    <div className="space-y-8">
      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
      <div>
        <h1 className="text-2xl font-bold">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h1>
        <p className="text-muted-foreground">
          Telegram MiniApps –¥–ª—è –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
        </p>
      </div>

      {/* –°–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π */}
      {apps.length > 0 ? (
        <div>
          <h2 className="text-lg font-semibold mb-4">üì± –í–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {apps.map(app => (
              <AppCard 
                key={app.id} 
                app={app} 
                orgSlug={orgSlug}
              />
            ))}
          </div>
        </div>
      ) : (
        <div className="text-center py-12 bg-muted/30 rounded-lg">
          <p className="text-muted-foreground mb-4">
            –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
          </p>
          <p className="text-sm text-muted-foreground">
            –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≥–æ—Ç–æ–≤–æ–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—ë
          </p>
        </div>
      )}

      {/* –î–µ–π—Å—Ç–≤–∏—è */}
      <div className="flex gap-4 pt-4 border-t">
        <Button variant="outline" asChild>
          <Link href={`/p/${orgSlug}/apps/catalog`}>
            <FolderOpen className="w-4 h-4 mr-2" />
            –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
          </Link>
        </Button>
        
        <Button asChild>
          <Link href={`/p/${orgSlug}/apps/new`}>
            <Sparkles className="w-4 h-4 mr-2" />
            –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
          </Link>
        </Button>
      </div>
    </div>
  );
}
```

### 4.3 –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```tsx
// components/apps/app-card.tsx

'use client';

import { Card, CardContent, CardFooter, CardHeader } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { ExternalLink, Settings } from 'lucide-react';
import Image from 'next/image';
import Link from 'next/link';

interface AppCardProps {
  app: {
    id: string;
    name: string;
    description: string;
    icon_url: string | null;
    app_type: 'own' | 'catalog';
    source_id: string;
    miniapp_url: string | null;
    status: string;
  };
  orgSlug: string;
}

export function AppCard({ app, orgSlug }: AppCardProps) {
  const isOwn = app.app_type === 'own';
  
  return (
    <Card className="flex flex-col">
      <CardHeader className="flex-row gap-3 items-start space-y-0">
        {/* –ò–∫–æ–Ω–∫–∞ */}
        <div className="w-12 h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden">
          {app.icon_url ? (
            <Image 
              src={app.icon_url} 
              alt={app.name} 
              width={48} 
              height={48}
              className="object-cover"
            />
          ) : (
            <span className="text-2xl">üì±</span>
          )}
        </div>
        
        <div className="flex-1 min-w-0">
          <h3 className="font-semibold truncate">{app.name}</h3>
          <Badge variant={isOwn ? 'secondary' : 'outline'} className="text-xs">
            {isOwn ? '–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ' : '–ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞'}
          </Badge>
        </div>
      </CardHeader>
      
      <CardContent className="flex-1">
        <p className="text-sm text-muted-foreground line-clamp-2">
          {app.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}
        </p>
      </CardContent>
      
      <CardFooter className="gap-2">
        {app.miniapp_url && (
          <Button variant="default" size="sm" asChild className="flex-1">
            <a href={app.miniapp_url} target="_blank" rel="noopener noreferrer">
              <ExternalLink className="w-4 h-4 mr-1" />
              –û—Ç–∫—Ä—ã—Ç—å
            </a>
          </Button>
        )}
        
        <Button variant="outline" size="sm" asChild>
          <Link href={`/p/${orgSlug}/apps/${app.id}/settings`}>
            <Settings className="w-4 h-4" />
          </Link>
        </Button>
      </CardFooter>
    </Card>
  );
}
```

### 4.4 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

```tsx
// app/p/[org]/apps/catalog/page.tsx

'use client';

import { useState, useEffect } from 'react';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { CatalogAppCard } from '@/components/apps/catalog-app-card';
import { Search } from 'lucide-react';

const CATEGORIES = [
  { value: 'all', label: '–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' },
  { value: 'engagement', label: '–í–æ–≤–ª–µ—á–µ–Ω–∏–µ' },
  { value: 'moderation', label: '–ú–æ–¥–µ—Ä–∞—Ü–∏—è' },
  { value: 'analytics', label: '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞' },
  { value: 'ai', label: 'AI' },
  { value: 'other', label: '–î—Ä—É–≥–æ–µ' },
];

export default function CatalogPage({ params }: { params: { org: string } }) {
  const [apps, setApps] = useState([]);
  const [search, setSearch] = useState('');
  const [category, setCategory] = useState('all');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function loadCatalog() {
      const params = new URLSearchParams();
      if (category !== 'all') params.set('category', category);
      if (search) params.set('search', search);
      
      const res = await fetch(`/api/apps/catalog?${params}`);
      const { apps } = await res.json();
      setApps(apps || []);
      setLoading(false);
    }
    
    const debounce = setTimeout(loadCatalog, 300);
    return () => clearTimeout(debounce);
  }, [search, category]);

  return (
    <div className="container py-6 space-y-6">
      <div>
        <h1 className="text-2xl font-bold">–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h1>
        <p className="text-muted-foreground">
          –ì–æ—Ç–æ–≤—ã–µ Telegram MiniApps –¥–ª—è –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
        </p>
      </div>
      
      {/* –§–∏–ª—å—Ç—Ä—ã */}
      <div className="flex gap-4">
        <div className="relative flex-1 max-w-sm">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground" />
          <Input 
            placeholder="–ü–æ–∏—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π..." 
            value={search}
            onChange={(e) => setSearch(e.target.value)}
            className="pl-9"
          />
        </div>
        
        <Select value={category} onValueChange={setCategory}>
          <SelectTrigger className="w-48">
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            {CATEGORIES.map(cat => (
              <SelectItem key={cat.value} value={cat.value}>
                {cat.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>
      </div>
      
      {/* –°–ø–∏—Å–æ–∫ */}
      {loading ? (
        <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      ) : apps.length === 0 ? (
        <div className="text-center py-12 text-muted-foreground">
          –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
        </div>
      ) : (
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          {apps.map((app: any) => (
            <CatalogAppCard 
              key={app.id} 
              app={app} 
              orgSlug={params.org}
            />
          ))}
        </div>
      )}
    </div>
  );
}
```

### 4.5 –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

```tsx
// components/apps/catalog-app-card.tsx

'use client';

import { useState } from 'react';
import { Card, CardContent, CardFooter, CardHeader } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Star, Plus, Check } from 'lucide-react';
import Image from 'next/image';
import Link from 'next/link';
import { useToast } from '@/components/ui/use-toast';

interface CatalogAppCardProps {
  app: {
    id: string;
    name: string;
    short_description: string;
    icon_url: string | null;
    category: string;
    featured: boolean;
    tags: string[];
  };
  orgSlug: string;
  isConnected?: boolean;
}

export function CatalogAppCard({ app, orgSlug, isConnected = false }: CatalogAppCardProps) {
  const [connected, setConnected] = useState(isConnected);
  const [loading, setLoading] = useState(false);
  const { toast } = useToast();

  async function handleConnect() {
    setLoading(true);
    try {
      // –ü–æ–ª—É—á–∏—Ç—å orgId
      const orgRes = await fetch(`/api/organizations/by-slug/${orgSlug}`);
      const { org } = await orgRes.json();
      
      const res = await fetch(`/api/apps/catalog/${app.id}/connect`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ orgId: org.id })
      });
      
      if (res.ok) {
        setConnected(true);
        toast({
          title: '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ',
          description: `${app.name} –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`
        });
      } else {
        throw new Error('Failed to connect');
      }
    } catch (error) {
      toast({
        title: '–û—à–∏–±–∫–∞',
        description: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
        variant: 'destructive'
      });
    } finally {
      setLoading(false);
    }
  }

  return (
    <Card className="flex flex-col">
      <CardHeader className="flex-row gap-3 items-start space-y-0">
        <div className="w-12 h-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden">
          {app.icon_url ? (
            <Image src={app.icon_url} alt={app.name} width={48} height={48} />
          ) : (
            <span className="text-2xl">ü§ù</span>
          )}
        </div>
        
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2">
            <h3 className="font-semibold truncate">{app.name}</h3>
            {app.featured && (
              <Star className="w-4 h-4 text-yellow-500 fill-yellow-500" />
            )}
          </div>
          <Badge variant="outline" className="text-xs">
            {app.category}
          </Badge>
        </div>
      </CardHeader>
      
      <CardContent className="flex-1">
        <p className="text-sm text-muted-foreground line-clamp-2">
          {app.short_description}
        </p>
        
        {app.tags?.length > 0 && (
          <div className="flex flex-wrap gap-1 mt-2">
            {app.tags.slice(0, 3).map(tag => (
              <Badge key={tag} variant="secondary" className="text-xs">
                {tag}
              </Badge>
            ))}
          </div>
        )}
      </CardContent>
      
      <CardFooter className="gap-2">
        <Button variant="outline" size="sm" asChild className="flex-1">
          <Link href={`/p/${orgSlug}/apps/catalog/${app.id}`}>
            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
          </Link>
        </Button>
        
        {connected ? (
          <Button variant="secondary" size="sm" disabled>
            <Check className="w-4 h-4 mr-1" />
            –ü–æ–¥–∫–ª—é—á–µ–Ω–æ
          </Button>
        ) : (
          <Button 
            size="sm" 
            onClick={handleConnect}
            disabled={loading}
          >
            <Plus className="w-4 h-4 mr-1" />
            {loading ? '...' : '–ü–æ–¥–∫–ª—é—á–∏—Ç—å'}
          </Button>
        )}
      </CardFooter>
    </Card>
  );
}
```

---

## 5. SUPERADMIN –ü–ê–ù–ï–õ–¨

### 5.1 –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º

```tsx
// app/admin/public-apps/page.tsx

'use client';

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';
import { Badge } from '@/components/ui/badge';
import { Plus, Edit, Eye, BarChart } from 'lucide-react';
import Link from 'next/link';

export default function PublicAppsAdminPage() {
  const [apps, setApps] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function loadApps() {
      const res = await fetch('/api/admin/public-apps');
      const { apps } = await res.json();
      setApps(apps || []);
      setLoading(false);
    }
    loadApps();
  }, []);

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

  return (
    <div className="container py-6 space-y-6">
      <div className="flex justify-between items-center">
        <div>
          <h1 className="text-2xl font-bold">–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h1>
          <p className="text-muted-foreground">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–º–∏ MiniApps</p>
        </div>
        
        <Button asChild>
          <Link href="/admin/public-apps/new">
            <Plus className="w-4 h-4 mr-2" />
            –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
          </Link>
        </Button>
      </div>
      
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</TableHead>
            <TableHead>–ü–∞—Ä—Ç–Ω—ë—Ä</TableHead>
            <TableHead>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</TableHead>
            <TableHead>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–π</TableHead>
            <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
            <TableHead>–î–µ–π—Å—Ç–≤–∏—è</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {apps.map((app: any) => (
            <TableRow key={app.id}>
              <TableCell>
                <div className="flex items-center gap-2">
                  {app.featured && <span>‚≠ê</span>}
                  <span className="font-medium">{app.name}</span>
                </div>
                <div className="text-sm text-muted-foreground">
                  @{app.bot_username}
                </div>
              </TableCell>
              <TableCell>{app.partner_name || '‚Äî'}</TableCell>
              <TableCell>
                <Badge variant="outline">{app.category}</Badge>
              </TableCell>
              <TableCell>
                <div className="flex items-center gap-1">
                  <BarChart className="w-4 h-4" />
                  {app.connections_count || 0}
                </div>
              </TableCell>
              <TableCell>
                <Badge 
                  variant={app.status === 'active' ? 'default' : 'secondary'}
                >
                  {app.status}
                </Badge>
              </TableCell>
              <TableCell>
                <div className="flex gap-1">
                  <Button variant="ghost" size="icon" asChild>
                    <Link href={`/admin/public-apps/${app.id}`}>
                      <Edit className="w-4 h-4" />
                    </Link>
                  </Button>
                  <Button variant="ghost" size="icon" asChild>
                    <Link href={`/admin/public-apps/${app.id}/stats`}>
                      <Eye className="w-4 h-4" />
                    </Link>
                  </Button>
                </div>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  );
}
```

### 5.2 API –¥–ª—è Superadmin

```typescript
// app/api/admin/public-apps/route.ts

import { createAdminServer } from '@/lib/supabase/admin';
import { requireSuperadmin } from '@/lib/auth/requireSuperadmin';

export async function GET(request: Request) {
  const { error: authError } = await requireSuperadmin();
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  const supabase = await createAdminServer();
  
  // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
  const { data: apps, error } = await supabase
    .from('public_apps')
    .select(`
      *,
      connections:public_app_connections(count)
    `)
    .order('sort_order', { ascending: true });
  
  if (error) {
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å count
  const appsWithCount = apps.map(app => ({
    ...app,
    connections_count: app.connections?.[0]?.count || 0
  }));
  
  return Response.json({ apps: appsWithCount });
}

export async function POST(request: Request) {
  const { error: authError } = await requireSuperadmin();
  if (authError) {
    return Response.json({ error: authError }, { status: 403 });
  }
  
  const body = await request.json();
  const supabase = await createAdminServer();
  
  const { data: app, error } = await supabase
    .from('public_apps')
    .insert(body)
    .select()
    .single();
  
  if (error) {
    return Response.json({ error: error.message }, { status: 500 });
  }
  
  return Response.json({ app });
}
```

---

## 6. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø VOTUM

### 6.1 –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞

| –ü–æ–ª–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|
| **name** | Votum |
| **slug** | votum |
| **bot_username** | votumfit_bot |
| **category** | engagement |
| **short_description** | –ú—ç—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ |
| **featured** | true |
| **status** | active |

### 6.2 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é

1. –î–æ–±–∞–≤–∏—Ç—å @votumfit_bot –≤ Telegram-–≥—Ä—É–ø–ø—É
2. –î–∞—Ç—å –±–æ—Ç—É –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
3. –ù–∞–ø–∏—Å–∞—Ç—å `/start` –≤ –≥—Ä—É–ø–ø–µ
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û—Ç–º–µ—Ç–∏—Ç—å –≤ Orbo, —á—Ç–æ –±–æ—Ç –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ –≥—Ä—É–ø–ø–µ

### 6.3 –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Votum –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
1. –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å, –≤ –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–æ—Ç
2. –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `public_app_connections.connected_groups`
3. –í superadmin –ø–∞–Ω–µ–ª–∏ –≤–∏–¥–Ω–∞ –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## 7. –§–ê–ô–õ–´ –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø

```
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚úÖ db/migrations/184_public_apps_catalog.sql  # –ü—Ä–∏–º–µ–Ω–µ–Ω–æ

# API - –ö–∞—Ç–∞–ª–æ–≥
‚úÖ app/api/apps/catalog/route.ts              # GET - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–∞
‚úÖ app/api/apps/catalog/[appId]/route.ts      # GET - –¥–µ—Ç–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚úÖ app/api/apps/catalog/[appId]/connect/route.ts  # POST/DELETE - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

# API - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚úÖ app/api/apps/org/[orgId]/route.ts          # GET - –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥

# API - Superadmin
‚úÖ app/api/admin/public-apps/route.ts         # GET/POST - —Å–ø–∏—Å–æ–∫/—Å–æ–∑–¥–∞–Ω–∏–µ
‚úÖ app/api/admin/public-apps/[appId]/route.ts # GET/PATCH/DELETE - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

# UI - –°—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚úÖ app/p/[org]/apps/page.tsx                  # –û–±–Ω–æ–≤–ª–µ–Ω–æ: –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫
‚úÖ app/p/[org]/apps/catalog/page.tsx          # –ö–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
‚úÖ app/p/[org]/apps/catalog/[appId]/page.tsx  # –î–µ—Ç–∞–ª–∏ + –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

# UI - Superadmin (TODO)
‚¨ú app/superadmin/public-apps/page.tsx        # –°–ø–∏—Å–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚¨ú app/superadmin/public-apps/new/page.tsx    # –°–æ–∑–¥–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚¨ú app/superadmin/public-apps/[appId]/page.tsx # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## 8. –ß–ï–ö–õ–ò–°–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ –ì–û–¢–û–í–û
- [x] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `184_public_apps_catalog.sql`
- [x] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (orbo database)
- [x] –í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Votum
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã public_apps, public_app_connections

### –§–∞–∑–∞ 2: API ‚úÖ –ì–û–¢–û–í–û
- [x] `/api/apps/catalog` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–∞
- [x] `/api/apps/catalog/[appId]` ‚Äî –¥–µ—Ç–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [x] `/api/apps/catalog/[appId]/connect` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ
- [x] `/api/apps/org/[orgId]` ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (unified list)
- [x] `/api/admin/public-apps` ‚Äî superadmin GET/POST
- [x] `/api/admin/public-apps/[appId]` ‚Äî superadmin GET/PATCH/DELETE

### –§–∞–∑–∞ 3: UI –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ ‚úÖ –ì–û–¢–û–í–û
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/p/[org]/apps` ‚Äî –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ (own + catalog)
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/p/[org]/apps/catalog` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/p/[org]/apps/catalog/[appId]` ‚Äî –¥–µ—Ç–∞–ª–∏ + –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- [x] –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –§–∞–∑–∞ 4: Superadmin (1 –¥–µ–Ω—å)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/public-apps` ‚Äî —Å–ø–∏—Å–æ–∫
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/public-apps/new` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/public-apps/[appId]` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 –¥–µ–Ω—å)
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Votum –∫ —Ç–µ—Å—Ç–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –µ–¥–∏–Ω–æ–º —Å–ø–∏—Å–∫–µ
- [ ] Superadmin —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [ ] –î–µ–ø–ª–æ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–¥–µ

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å |
|---------|------|
| Votum –≤ –∫–∞—Ç–∞–ª–æ–≥–µ | ‚úÖ |
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–π Votum | ‚â• 3 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ |
| –í—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è | < 1 –º–∏–Ω—É—Ç—ã |
| –û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ | 0 |

---

**–°—Ç–∞—Ç—É—Å:** Ready for Implementation  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ `180_public_apps_catalog.sql`

---

*Last Updated: 7 —è–Ω–≤–∞—Ä—è 2026*

