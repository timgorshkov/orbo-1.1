# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∞–Ω–∏—Ü—ã: Owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ vs Creator –≥—Ä—É–ø–ø—ã

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–°–º–µ—à–∏–≤–∞–Ω–∏–µ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –ø–æ–Ω—è—Ç–∏–π:
1. **Owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** (–≤–ª–∞–¥–µ–ª–µ—Ü –∞–∫–∫–∞—É–Ω—Ç–∞ Orbo) - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1, —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞
2. **Owner (Creator) Telegram-–≥—Ä—É–ø–ø—ã** - —Å–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã –≤ Telegram, —Å–∏–Ω–∏–π –±–µ–π–¥–∂

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå Creator –≥—Ä—É–ø–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è —Å **—Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–π –∫–æ—Ä–æ–Ω–æ–π** –∏ —Å—Ç–∞—Ç—É—Å–æ–º "–í–ª–∞–¥–µ–ª–µ—Ü"
- ‚ùå –í "–ö–æ–º–∞–Ω–¥–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏" creator –≥—Ä—É–ø–ø—ã **—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª—Å—è** –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤

---

## üõ†Ô∏è –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1Ô∏è‚É£ –†–∞–∑–¥–µ–ª–∏–ª–∏ –ø–æ–ª—è –≤ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–§–∞–π–ª:** `app/app/[org]/members/page.tsx`

**–ë—ã–ª–æ:**
```typescript
participant.is_owner = participant.is_owner || adminInfo.isOwner
// ‚ùå –°–º–µ—à–∏–≤–∞–ª–æ owner org –∏ owner –≥—Ä—É–ø–ø—ã
```

**–°—Ç–∞–ª–æ:**
```typescript
participant.is_org_owner = false // –í–ª–∞–¥–µ–ª–µ—Ü –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞)
participant.is_group_creator = false // –°–æ–∑–¥–∞—Ç–µ–ª—å –ì–†–£–ü–ü–´ –≤ Telegram (—Å–∏–Ω–∏–π –±–µ–π–¥–∂)
participant.is_admin = false // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

if (userRole === 'owner') {
  participant.is_org_owner = true // ‚úÖ –¢–æ–ª—å–∫–æ owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
}
if (adminInfo.isOwner) {
  participant.is_group_creator = true // ‚úÖ –û—Ç–¥–µ–ª—å–Ω–æ creator –≥—Ä—É–ø–ø—ã
}
if (adminInfo.isAdmin) {
  participant.is_admin = true // ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
}
```

---

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç AdminBadge

**–§–∞–π–ª:** `components/admin-badge.tsx`

**–ù–æ–≤—ã–µ props:**
- `isOrgOwner` - –≤–ª–∞–¥–µ–ª–µ—Ü –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞ üëë)
- `isGroupCreator` - —Å–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã (—Å–∏–Ω—è—è –∑–≤–µ–∑–¥–∞ ‚≠ê)
- `isAdmin` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—Å–∏–Ω–∏–π —â–∏—Ç üõ°Ô∏è)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
1. **isOrgOwner** ‚Üí –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞ "–í–ª–∞–¥–µ–ª–µ—Ü"
2. **isGroupCreator** ‚Üí –°–∏–Ω—è—è –∑–≤–µ–∑–¥–∞ "–°–æ–∑–¥–∞—Ç–µ–ª—å" (–∏–ª–∏ custom_title)
3. **isAdmin** ‚Üí –°–∏–Ω–∏–π —â–∏—Ç "–ê–¥–º–∏–Ω" (–∏–ª–∏ custom_title)

**–ö–æ–¥:**
```typescript
if (actualIsOrgOwner) {
  return <Crown className="fill-purple-600" /> "–í–ª–∞–¥–µ–ª–µ—Ü"
}
if (isGroupCreator) {
  return <Star className="fill-blue-600" /> "–°–æ–∑–¥–∞—Ç–µ–ª—å"
}
if (isAdmin) {
  return <Shield /> "–ê–¥–º–∏–Ω"
}
```

---

### 3Ô∏è‚É£ –û–±–Ω–æ–≤–∏–ª–∏ —Ç–∏–ø—ã Participant

**–§–∞–π–ª—ã:** 
- `components/members/member-card.tsx`
- `components/members/members-table.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:**
```typescript
interface Participant {
  // ...
  is_owner?: boolean // –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (= is_org_owner)
  is_org_owner?: boolean // ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  is_group_creator?: boolean // ‚úÖ –°–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã
  is_admin?: boolean // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
  custom_title?: string | null
}
```

---

### 4Ô∏è‚É£ –û–±–Ω–æ–≤–∏–ª–∏ –≤—ã–∑–æ–≤—ã AdminBadge

**–ë—ã–ª–æ:**
```typescript
<AdminBadge 
  isOwner={participant.is_owner}
  isAdmin={participant.is_admin}
/>
```

**–°—Ç–∞–ª–æ:**
```typescript
<AdminBadge 
  isOrgOwner={participant.is_org_owner}
  isGroupCreator={participant.is_group_creator}
  isAdmin={participant.is_admin}
  customTitle={participant.custom_title}
/>
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –†–∞–∑–¥–µ–ª "–£—á–∞—Å—Ç–Ω–∏–∫–∏"

**Owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–¢–∏–º—É—Ä –ì–æ–ª–∏—Ü—ã–Ω):**
```
üëë –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞ "–í–ª–∞–¥–µ–ª–µ—Ü"
```

**Creator –≥—Ä—É–ø–ø—ã (Tim Gorshkov):**
```
‚≠ê –°–∏–Ω—è—è –∑–≤–µ–∑–¥–∞ "–°–æ–∑–¥–∞—Ç–µ–ª—å" (–∏–ª–∏ custom_title –∏–∑ Telegram)
```

**–û–±—ã—á–Ω—ã–π –∞–¥–º–∏–Ω:**
```
üõ°Ô∏è –°–∏–Ω–∏–π —â–∏—Ç "–ê–¥–º–∏–Ω" (–∏–ª–∏ custom_title –∏–∑ Telegram)
```

---

### –†–∞–∑–¥–µ–ª "–ö–æ–º–∞–Ω–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏" (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)

**–í–ª–∞–¥–µ–ª–µ—Ü (1):**
- –¢–∏–º—É—Ä –ì–æ–ª–∏—Ü—ã–Ω üëë –í–ª–∞–¥–µ–ª–µ—Ü
- Email + Telegram —Å—Ç–∞—Ç—É—Å—ã
- –ï—Å–ª–∏ –∞–¥–º–∏–Ω –≤ –≥—Ä—É–ø–ø–∞—Ö: "–¢–∞–∫–∂–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤ –≥—Ä—É–ø–ø–∞—Ö"

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (N):**
- Tim Gorshkov üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ‚≠ê –°–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã "Test2"
- Email + Telegram —Å—Ç–∞—Ç—É—Å—ã
- –ì—Ä—É–ø–ø—ã, –≥–¥–µ –∞–¥–º–∏–Ω

**–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
```typescript
const owner = team.find(m => m.role === 'owner')
const admins = team.filter(m => 
  m.role === 'admin' && 
  m.user_id !== owner?.user_id // ‚úÖ –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ owner org
)
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –¢–µ—Å—Ç 1: –†–∞–∑–¥–µ–ª "–£—á–∞—Å—Ç–Ω–∏–∫–∏"
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/app/{org}/members`
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è:**
   - –í–ª–∞–¥–µ–ª–µ—Ü –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: üëë —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞ "–í–ª–∞–¥–µ–ª–µ—Ü"
   - –°–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã: ‚≠ê —Å–∏–Ω—è—è –∑–≤–µ–∑–¥–∞ "–°–æ–∑–¥–∞—Ç–µ–ª—å"
   - –û–±—ã—á–Ω—ã–µ –∞–¥–º–∏–Ω—ã: üõ°Ô∏è —Å–∏–Ω–∏–π —â–∏—Ç "–ê–¥–º–∏–Ω"

### –¢–µ—Å—Ç 2: –†–∞–∑–¥–µ–ª "–ö–æ–º–∞–Ω–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/app/{org}/settings`
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è:**
   - –í–ª–∞–¥–µ–ª–µ—Ü: 1 —á–µ–ª–æ–≤–µ–∫ (–≤–ª–∞–¥–µ–ª–µ—Ü –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã: N —á–µ–ª–æ–≤–µ–∫ (–≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –≥—Ä—É–ø–ø)
   - Creator –≥—Ä—É–ø–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ admin —Å —Å–∏–Ω–∏–º –±–µ–π–¥–∂–µ–º

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```sql
-- –í Supabase SQL Editor:
db/diagnose_new_org_team.sql
```

–ó–∞–º–µ–Ω–∏—Ç–µ `ORG_ID` –Ω–∞ ID –≤–∞—à–µ–π –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ.

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
1. –ß—Ç–æ –≤ `memberships` (—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
2. –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `organization_admins` VIEW
3. Participants –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. Telegram group admins

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- `memberships`: owner (–¢–∏–º—É—Ä) + admin (Tim)
- `organization_admins`: 2 –∑–∞–ø–∏—Å–∏, `is_owner_in_groups: true` –¥–ª—è Tim
- Creator –≥—Ä—É–ø–ø—ã –∏–º–µ–µ—Ç `role='admin'`, –∞ –Ω–µ `'owner'`

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. `app/app/[org]/members/page.tsx` - –ª–æ–≥–∏–∫–∞ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
2. `components/admin-badge.tsx` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ–π–¥–∂–µ–π
3. `components/members/member-card.tsx` - —Ç–∏–ø—ã –∏ –≤—ã–∑–æ–≤ AdminBadge
4. `components/members/members-table.tsx` - —Ç–∏–ø—ã –∏ –≤—ã–∑–æ–≤ AdminBadge

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. `db/diagnose_new_org_team.sql` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
2. `db/FIX_OWNER_VS_CREATOR_CONFUSION.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üéØ –ò—Ç–æ–≥

‚úÖ **Owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** –∏ **Creator –≥—Ä—É–ø–ø—ã** –±–æ–ª—å—à–µ –Ω–µ –ø—É—Ç–∞—é—Ç—Å—è  
‚úÖ –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–æ—Ä–æ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏  
‚úÖ –°–∏–Ω–∏–π –±–µ–π–¥–∂ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∏ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –≥—Ä—É–ø–ø  
‚úÖ –§–∏–ª—å—Ç—Ä –≤ "–ö–æ–º–∞–Ω–¥–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ

---

**–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–∏—à–ª–∏—Ç–µ:**
1. –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–∑–¥–µ–ª–∞ "–£—á–∞—Å—Ç–Ω–∏–∫–∏"
2. –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–∑–¥–µ–ª–∞ "–ö–æ–º–∞–Ω–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"
3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã `diagnose_new_org_team.sql`

