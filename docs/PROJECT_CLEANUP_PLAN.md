# üìã –ü–ª–∞–Ω –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –¶–µ–ª—å
–ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –ø—Ä–æ–µ–∫—Ç–µ: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —É–¥–∞–ª–∏—Ç—å debug endpoints, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã.

---

## üìÅ –ü—É–Ω–∫—Ç 1: –ü–µ—Ä–µ–Ω–æ—Å .md —Ñ–∞–π–ª–æ–≤ –≤ docs/

### –§–∞–π–ª—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑ –∫–æ—Ä–Ω—è ‚Üí docs/

‚úÖ **–ë–ï–ó–û–ü–ê–°–ù–û –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å:**
1. `SUMMARY_BIO_LEAKAGE.md`
2. `BIO_CUSTOM_ATTRIBUTES_LEAKAGE_FIX.md`
3. `BIO_LEAKAGE_QUICK.md`
4. `TELEGRAM_UI_IMPROVEMENTS.md`
5. `TELEGRAM_UI_FIXED.md`
6. `AVAILABLE_GROUPS_FIX_QUICK.md`
7. `AVAILABLE_GROUPS_FILTER_FIX.md`
8. `BOT_FILTER_FIX.md`
9. `PERMANENT_FIX_APPLIED.md`
10. `OWNER_VS_CREATOR_FIXED.md`
11. `DONE_QUICK_CHECK.md`
12. `FIX_TEAM_SETTINGS_INSTRUCTIONS.md`
13. `OWNER_ROLE_FIX.md`
14. `AUTH_CALLBACK_FIX.md`

‚ùå **–ù–ï –¢–†–û–ì–ê–¢–¨:**
- `README.md` - –æ—Å–Ω–æ–≤–Ω–æ–π readme –ø—Ä–æ–µ–∫—Ç–∞
- `prd.md` - –æ—Å–Ω–æ–≤–Ω–æ–π PRD

### –§–∞–π–ª—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑ db/ ‚Üí docs/db/

‚úÖ **–ë–ï–ó–û–ü–ê–°–ù–û –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å:**
1. `FIX_SQL_SUBQUERY_ERROR.md`
2. `PERMANENT_FIX_SYNC_ADMINS.md`
3. `FIX_OWNER_VS_CREATOR_CONFUSION.md`
4. `COMPLETE_FIX_SUMMARY.md`
5. `SYSTEMATIC_FIX_INSTRUCTIONS.md`
6. `SYSTEMATIC_FIX_PLAN.md`
7. `TEAM_DUPLICATION_SUMMARY.md`
8. `FIX_TEAM_DUPLICATION_PERMANENT.md`
9. `TEAM_DUPLICATION_ROOT_CAUSE_ANALYSIS.md`
10. `FIX_TEAM_DUPLICATES_README.md`
11. `TEAM_DUPLICATION_ANALYSIS.md`
12. `FIX_SYNTAX_ERROR.md`
13. `NEXT_STEPS.md`
14. `FIX_EVENT_REGISTRATIONS_COLUMN.md`
15. `DELETE_DUPLICATE_USER_GUIDE.md`

**–†–∏—Å–∫–∏:** ‚ùå –ù–ï–¢ - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üêõ –ü—É–Ω–∫—Ç 2: Debug endpoints

### üî¥ –ö–†–ò–¢–ò–ß–ù–û! –ü—É–±–ª–∏—á–Ω—ã–µ debug endpoints

#### ‚ö†Ô∏è –£–î–ê–õ–ò–¢–¨ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏):

1. **`app/debug/auth/page.tsx`** + **`app/api/debug/auth/route.ts`**
   - ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: session, user ID, email, –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –≤—Å–µ memberships
   - ‚ùå –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω: `/debug/auth`
   - ‚ùå **–í–´–°–û–ö–ò–ô –†–ò–°–ö**: —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

2. **`app/debug/telegram-groups/page.tsx`** + **`app/api/debug/telegram-groups/route.ts`**
   - ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –≤—Å–µ Telegram –≥—Ä—É–ø–ø—ã, chat IDs, —Å—Ç–∞—Ç—É—Å—ã
   - ‚ùå –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω: `/debug/telegram-groups`
   - ‚ùå **–°–†–ï–î–ù–ò–ô –†–ò–°–ö**: —É—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥—Ä—É–ø–ø–∞—Ö

3. **`app/api/debug/check-telegram-user/route.ts`**
   - ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –¥–∞–Ω–Ω—ã–µ –æ Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ ID
   - ‚ùå –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω: `/api/debug/check-telegram-user?telegramId=...`
   - ‚ùå **–í–´–°–û–ö–ò–ô –†–ò–°–ö**: –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

4. **`app/api/debug/check-group-admins/route.ts`**
   - ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ –≥—Ä—É–ø–ø—ã, –∏—Ö –ø—Ä–∞–≤–∞
   - ‚ùå –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω: `/api/debug/check-group-admins?chatId=...`
   - ‚ùå **–°–†–ï–î–ù–ò–ô –†–ò–°–ö**: —É—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–¥–º–∏–Ω–∞—Ö

5. **`app/api/debug/create-test-org/route.ts`** (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
   - ‚ùå –°–æ–∑–¥–∞—ë—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - ‚ùå **–í–´–°–û–ö–ò–ô –†–ò–°–ö**: DoS –∞—Ç–∞–∫–∞, —Å–ø–∞–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

#### ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–ø–æ–ª–µ–∑–Ω—ã–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞):

1. **`app/api/healthz/route.ts`**
   - ‚úÖ Health check endpoint
   - ‚úÖ –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - ‚úÖ –ù—É–∂–µ–Ω –¥–ª—è uptime monitoring

2. **`app/api/health/route.ts`**
   - ‚úÖ –ë–∞–∑–æ–≤—ã–π health check
   - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–µ–Ω

3. **`app/api/telegram/admin/monitor-webhooks/route.ts`**
   - ‚ö†Ô∏è **–†–ò–°–ö**: –ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å webhook –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - üí° **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ (—Ç–æ–ª—å–∫–æ owner –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
   - ‚úÖ –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è debug endpoints:** ‚ùå –ù–ï–¢ - –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üìÇ –ü—É–Ω–∫—Ç 3: –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ SQL —Å–∫—Ä–∏–ø—Ç—ã –≤ db/

### üóëÔ∏è –ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤):

#### –ì—Ä—É–ø–ø–∞ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (diagnose_*)
1. `diagnose_bio_leakage.sql` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É—Ç–µ—á–∫–∏ bio (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
2. `diagnose_duplicate_users.sql` - –ø–æ–∏—Å–∫ –¥—É–±–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. `diagnose_group_-4962287234.sql` - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø—ã
4. `diagnose_new_org_quick.sql` - –¥–ª—è –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
5. `diagnose_new_org_team.sql` - –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
6. `diagnose_team_display_issue.sql` - –¥–ª—è –ø—Ä–æ–±–ª–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
7. `diagnose_team_for_sql_editor.sql` - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è SQL editor
8. `diagnose_team_simple.sql` - —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã
9. `diagnose_tim_gorshkov.sql` - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –ì—Ä—É–ø–ø–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∏ (check_*)
1. `check_available_groups_timur.sql` - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `check_what_remains.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
3. `check_group_metrics.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ –≥—Ä—É–ø–ø—ã
4. `check_material_tables.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
5. `check_participants_schema.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
6. `CHECK_ACTIVITY_EVENTS_STRUCTURE.sql` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π
7. `CHECK_ADMIN_STATUS.sql` - —Å—Ç–∞—Ç—É—Å –∞–¥–º–∏–Ω–∞
8. `CHECK_EVENTS_AFTER_DEPLOY.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
9. `CHECK_OWNER_PARTICIPANT.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞
10. `CHECK_PARTICIPANT_GROUPS_SIMPLE.sql` - —Å–≤—è–∑–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
11. `CHECK_PARTICIPANTS_CONSTRAINTS.sql` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
12. `CHECK_PARTICIPANTS_STATE.sql` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
13. `CHECK_SPECIFIC_USER_PARTICIPANT.sql` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
14. `CHECK_TELEGRAM_GROUPS.sql` - Telegram –≥—Ä—É–ø–ø—ã
15. `CHECK_TIMUR_ADMIN_STATUS.sql` - —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞

#### –ì—Ä—É–ø–ø–∞ 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (fix_* - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ)
1. `fix_owner_admin_duplicates.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π owner/admin
2. `fix_team_duplicates.sql` - –¥–ª—è –ø–µ—Ä–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. `fix_team_duplicates_org2.sql` - –¥–ª—è –≤—Ç–æ—Ä–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. `fix_tim_in_new_org.sql` - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. `force_delete_duplicate_user.sql` - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞
6. `merge_duplicate_telegram_users.sql` - —Å–ª–∏—è–Ω–∏–µ –¥—É–±–ª–µ–π

#### –ì—Ä—É–ø–ø–∞ 4: –¢–µ—Å—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ (test_*, quick_*)
1. `test_migration_065.sql` - —Ç–µ—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
2. `quick_diagnose_team.sql` - –±—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
3. `quick_fix_org2_now.sql` - –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### –ì—Ä—É–ø–ø–∞ 5: –û—á–∏—Å—Ç–∫–∞ (cleanup_* - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ)
1. `cleanup_bot_admins.sql` - –æ—á–∏—Å—Ç–∫–∞ –±–æ—Ç–æ–≤ –∏–∑ –∞–¥–º–∏–Ω–æ–≤ (—É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ)
2. `CLEANUP_ALL_DATA.sql` - –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
3. `CLEANUP_AUTH_COMPLETELY.sql` - –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ auth
4. `QUICK_CLEANUP_AUTH.sql` - –±—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞ auth

#### –ì—Ä—É–ø–ø–∞ 6: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ signup
1. `DIAGNOSE_SIGNUP_ISSUE.sql` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

#### –ì—Ä—É–ø–ø–∞ 7: Reset-—Å–∫—Ä–∏–ø—Ç—ã
1. `RESET_TELEGRAM_GROUPS_ASSIGNMENT.sql` - —Å–±—Ä–æ—Å –ø—Ä–∏–≤—è–∑–∫–∏ –≥—Ä—É–ø–ø

#### –ì—Ä—É–ø–ø–∞ 8: –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. `FIX_ALL_DUPLICATES_BEFORE_INDEXES.sql` - –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–Ω–¥–µ–∫—Å–æ–≤
2. `FIX_DUPLICATE_PARTICIPANTS_BEFORE_MIGRATION.sql` - –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
3. `FIX_EMPTY_EMAIL_DUPLICATES.sql` - –ø—É—Å—Ç—ã–µ email –¥—É–±–ª–∏

**–ò—Ç–æ–≥–æ –∫ —É–¥–∞–ª–µ–Ω–∏—é:** ~45 —Ñ–∞–π–ª–æ–≤

### ‚úÖ –û–°–¢–ê–í–ò–¢–¨ (–º–æ–≥—É—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è):

#### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
1. `bucket_policies.sql` - –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è storage
2. `create_tables_now.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
3. `deploy.sql` - –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç
4. `init.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
5. `init_storage.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è storage

#### –§—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
1. `create_counter_functions.sql` - —Ñ—É–Ω–∫—Ü–∏–∏ —Å—á—ë—Ç—á–∏–∫–æ–≤
2. `create_participants_functions.sql` - —Ñ—É–Ω–∫—Ü–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
3. `exec_sql_function.sql` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL

#### –°–∏—Å—Ç–µ–º—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
1. `telegram_ownership_system.sql` - —Å–∏—Å—Ç–µ–º–∞ –≤–ª–∞–¥–µ–Ω–∏—è Telegram
2. `update_activity_events.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
3. `update_participant_counts.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤
4. `update_participants_system.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
1. `add_advanced_metrics.sql` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
2. `add_missing_participants.sql` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
3. `add_timezone_support.sql` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
4. `demo_data.sql` - –¥–µ–º–æ –¥–∞–Ω–Ω—ã–µ

#### –ü—Ä–æ–≤–µ—Ä–∫–∏ (–ø–æ–ª–µ–∑–Ω—ã–µ)
1. `real_data_check.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. `verify_fixes.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫ (—Å–∏—Å—Ç–µ–º–Ω—ã–µ)
1. `fix_analytics_metrics.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
2. `fix_group_metrics.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≥—Ä—É–ø–ø—ã
3. `fix_members_duplicates_and_metrics.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π
4. `fix_members_issues.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
5. `fix_memberships_policy_v2.sql` - –ø–æ–ª–∏—Ç–∏–∫–∏ memberships
6. `fix_memberships_policy.sql` - –ø–æ–ª–∏—Ç–∏–∫–∏ memberships
7. `fix_organizations_rls.sql` - RLS –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
8. `fix_rls_policies.sql` - –ø–æ–ª–∏—Ç–∏–∫–∏ RLS
9. `fix_telegram_group_admins.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ Telegram

#### Debug —É—Ç–∏–ª–∏—Ç–∞
1. `debug_organization_team.sql` - –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### –ú–∏–≥—Ä–∞—Ü–∏–∏
- `migrations/` - –í–°–ï –û–°–¢–ê–í–ò–¢–¨ (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

#### JavaScript —É—Ç–∏–ª–∏—Ç—ã
1. `delete_user_via_api.js` - –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤:** 
- ‚úÖ –ù–ò–ó–ö–ò–ô - –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ, —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—É—é –ø–∞–ø–∫—É `db/archive/` –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è

---

## üìù –ü—É–Ω–∫—Ç 4: –û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏

### –î–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —É–¥–∞–ª—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è debug endpoints –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω—É–∂–Ω–æ:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å README.md** - —É–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ debug endpoints
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å docs/** - —É–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - —É–¥–∞–ª–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–†–∏—Å–∫–∏:** ‚ùå –ù–ï–¢ - —É–ª—É—á—à–∏—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
```bash
mkdir -p docs/db
mkdir -p db/archive/diagnose
mkdir -p db/archive/check
mkdir -p db/archive/fix
mkdir -p db/archive/test
mkdir -p db/archive/cleanup
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (14 —Ñ–∞–π–ª–æ–≤ –∏–∑ –∫–æ—Ä–Ω—è + 15 –∏–∑ db/)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –±–µ–∑ —Ä–∏—Å–∫–æ–≤

### –®–∞–≥ 3: –£–¥–∞–ª–∏—Ç—å debug endpoints (5-6 —Ñ–∞–π–ª–æ–≤)
- **–ö–†–ò–¢–ò–ß–ù–û –î–õ–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**
- –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

### –®–∞–≥ 4: –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã (~45 —Ñ–∞–π–ª–æ–≤)
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ `db/archive/` –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è
- –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –®–∞–≥ 5: –û—á–∏—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –£–¥–∞–ª–∏—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- –û–±–Ω–æ–≤–∏—Ç—å README.md

---

## ‚ö†Ô∏è –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤

| –î–µ–π—Å—Ç–≤–∏–µ | –†–∏—Å–∫ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å? |
|----------|------|-----------|-----------------|
| –ü–µ—Ä–µ–Ω–æ—Å .md | ‚ùå –ù–ï–¢ | –°—Ä–µ–¥–Ω–∏–π | ‚úÖ –î–∞ |
| –£–¥–∞–ª–µ–Ω–∏–µ debug endpoints | üî¥ –í–´–°–û–ö–ò–ô (–µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–∏—Ç—å) | üî• –í–´–°–û–ö–ò–ô | ‚úÖ –î–∞ (git) |
| –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ SQL | ‚ùå –ù–ï–¢ | –ù–∏–∑–∫–∏–π | ‚úÖ –î–∞ |
| –û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | ‚ùå –ù–ï–¢ | –ù–∏–∑–∫–∏–π | ‚úÖ –î–∞ (git) |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–¥–∞–ª–∏—Ç—å debug endpoints** - —ç—Ç–æ –¥—ã—Ä–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ —É–¥–∞–ª—è—Ç—å** SQL —Å–∫—Ä–∏–ø—Ç—ã - –º–æ–≥—É—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –¥–ª—è reference
3. **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - —É–ª—É—á—à–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
4. **–°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** - –ª–µ–≥—á–µ –æ—Ç–∫–∞—Ç–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üöÄ –ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?

–ñ–¥—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ—á–∏—Å—Ç–∫–∏!

