# ÐÐ½Ð°Ð»Ð¸Ð· ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Orbo

## Ð”Ð°Ñ‚Ð° Ð°Ð½Ð°Ð»Ð¸Ð·Ð°: 16 Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ 2025

---

## 1. ÐžÐ¡ÐÐžÐ’ÐÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« (Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ)

### `organizations`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¹ (Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð² ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð²)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð’ÐµÐ·Ð´Ðµ - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°  
**ÐŸÐ¾Ð»Ñ:** `id`, `name`, `plan`, `logo_url`, `created_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `memberships`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð²ÑÐ·ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑÐ¼Ð¸ Ð¸ Ð¸Ñ… Ñ€Ð¾Ð»ÑÐ¼Ð¸  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð°Ð², RLS Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸  
**ÐŸÐ¾Ð»Ñ:** `org_id`, `user_id`, `role` (owner/admin/member/viewer), `role_source`, `metadata`, `created_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `telegram_groups`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Telegram-Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ñ…  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Telegram, Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°, sync ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²  
**ÐŸÐ¾Ð»Ñ:** `id`, `tg_chat_id`, `title`, `invite_link`, `bot_status`, `org_id` (Ñ‡ÐµÑ€ÐµÐ· org_telegram_groups), `last_sync_at`, Ð¸ Ð´Ñ€.  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `org_telegram_groups`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Many-to-many ÑÐ²ÑÐ·ÑŒ Ð¼ÐµÐ¶Ð´Ñƒ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑÐ¼Ð¸ Ð¸ Telegram-Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ð¼Ð¸  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐžÐ´Ð½Ð° Ð³Ñ€ÑƒÐ¿Ð¿Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°Ñ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑÐ¼  
**ÐŸÐ¾Ð»Ñ:** `org_id`, `tg_chat_id`, `created_by`, `created_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `participants`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¹ (Ñ‡Ð»ÐµÐ½Ñ‹ Telegram-Ð³Ñ€ÑƒÐ¿Ð¿, Ð³Ð¾ÑÑ‚Ð¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** CRM, Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°, Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `tg_user_id`, `username`, `full_name`, `email`, `phone`, `user_id`, `merged_into`, `participant_status`, `bio`, Ð¸ Ð´Ñ€.  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð²Ð°Ð¶Ð½Ð°

### `participant_groups`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð²ÑÐ·ÑŒ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ñ Telegram-Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ð¼Ð¸  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ñ‡Ð»ÐµÐ½ÑÑ‚Ð²Ð° Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ñ…, Ñ€Ð°ÑÑ‡ÐµÑ‚ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸  
**ÐŸÐ¾Ð»Ñ:** `participant_id`, `tg_group_id`, `joined_at`, `left_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `activity_events`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ (ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ, join/leave, Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸, Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´, Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `event_type`, `participant_id`, `tg_user_id`, `tg_chat_id`, `message_id`, `has_media`, `chars_count`, `created_at`, `meta`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `participant_messages`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐºÑÑ‚Ð¾Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ð¹ AI-Ð°Ð½Ð°Ð»Ð¸Ð·, Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `participant_id`, `tg_user_id`, `tg_chat_id`, `message_id`, `message_text`, `chars_count`, `words_count`, `sent_at`, `analysis_data`, `message_tsv` (Ð¿Ð¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº)  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐµÐ´Ð°Ð²Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð°, Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `user_telegram_accounts`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð²ÑÐ·ÑŒ auth.users Ñ Telegram ID Ð¿Ð¾ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑÐ¼  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð’ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Telegram Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð², Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ  
**ÐŸÐ¾Ð»Ñ:** `id`, `user_id`, `org_id`, `telegram_user_id`, `telegram_username`, `telegram_first_name`, `telegram_last_name`, `is_verified`, `verification_code`, `verified_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ (ÑÐ¾Ð·Ð´Ð°Ð½Ð° Ð² `telegram_ownership_system.sql`, Ð½Ðµ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÑ…!)

### `events`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ/Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¹  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹, Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ, ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `title`, `description`, `cover_image_url`, `event_type`, `location_info`, `event_date`, `start_time`, `end_time`, `is_paid`, `price_info`, `capacity`, `status`, `is_public`, `created_by`, `created_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `event_registrations`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð½Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼Ð¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹, ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ capacity  
**ÐŸÐ¾Ð»Ñ:** `id`, `event_id`, `participant_id`, `registered_at`, `registration_source`, `status` (registered/cancelled)  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `material_pages`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð² (Ð±Ð°Ð·Ð° Ð·Ð½Ð°Ð½Ð¸Ð¹)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸, Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð² Ð´Ð»Ñ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `parent_id`, `title`, `slug`, `content_md`, `content_draft_md`, `visibility`, `is_published`, `position`, `created_by`, `updated_by`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

### `telegram_auth_codes`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐžÐ´Ð½Ð¾Ñ€Ð°Ð·Ð¾Ð²Ñ‹Ðµ ÐºÐ¾Ð´Ñ‹ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Telegram Ð±Ð¾Ñ‚Ð°  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° Telegram Login Widget, Ð±Ð¾Ð»ÐµÐµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð°Ñ  
**ÐŸÐ¾Ð»Ñ:** `id`, `code`, `org_id`, `event_id`, `redirect_url`, `is_used`, `used_at`, `telegram_user_id`, `telegram_username`, `expires_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ

---

## 2. Ð’Ð¡ÐŸÐžÐœÐžÐ“ÐÐ¢Ð•Ð›Ð¬ÐÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ð¾)

### `event_telegram_notifications`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ… Ð² Telegram Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Cron-Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…  
**ÐŸÐ¾Ð»Ñ:** `id`, `event_id`, `tg_group_id`, `notification_type`, `scheduled_at`, `sent_at`, `message_id`, `status`, `error_message`  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:** 
- `app/api/cron/event-notifications/route.ts` (Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ cron)
- `app/api/events/[id]/notify/route.ts` (Ñ€ÑƒÑ‡Ð½Ð°Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ°)  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ð¾ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð½Ð¾Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¹)

### `organization_invites`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐŸÑ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑÐ¼  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¸Ð½Ð²Ð°Ð¹Ñ‚Ð¾Ð² Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ ÑƒÑ€Ð¾Ð²Ð½ÑÐ¼Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `token`, `created_by`, `access_type`, `allowed_materials`, `allowed_events`, `max_uses`, `current_uses`, `expires_at`, `is_active`  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:**
- `app/api/organizations/[id]/invites/route.ts`
- `app/join/[org]/[token]/page.tsx`
- `app/app/[org]/settings/invites/page.tsx`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ð½Ðµ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾

### `organization_invite_uses`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐÑƒÐ´Ð¸Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ð¹  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÑ‚Ð¾ Ð¸ ÐºÐ¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð» Ð¸Ð½Ð²Ð°Ð¹Ñ‚  
**ÐŸÐ¾Ð»Ñ:** `id`, `invite_id`, `user_id`, `telegram_user_id`, `telegram_username`, `used_at`, `ip_address`, `user_agent`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð°ÑƒÐ´Ð¸Ñ‚Ð°

### `user_group_admin_status`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾Ð± Ð°Ð´Ð¼Ð¸Ð½-ÑÑ‚Ð°Ñ‚ÑƒÑÐµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ñ…  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ñ€Ð°Ð² Ð¸Ð· Telegram  
**ÐŸÐ¾Ð»Ñ:** `id`, `user_id`, `tg_chat_id`, `is_admin`, `checked_at`  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:**
- `lib/server/syncOrgAdmins.ts`
- `app/api/telegram/bot/check-user-groups/route.ts`
- Migrations 02, 20, 31, 37, 40, 41  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ð¾Ð²

### `group_metrics`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐÐ³Ñ€ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¿Ð¾ Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ð¼ (DAU, ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ, Ð¸ Ñ‚.Ð´.)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°, Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´Ñ‹  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `tg_chat_id`, `date`, `dau`, `message_count`, `reply_count`, `reply_ratio`, `join_count`, `leave_count`, `net_member_change`, `silent_rate`  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:**
- `lib/services/eventProcessingService.ts` (Ð°Ð³Ñ€ÐµÐ³Ð°Ñ†Ð¸Ñ)
- `app/api/telegram/webhook/route.ts` (Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ)
- `app/app/[org]/telegram/analytics/page.tsx` (Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ)
- `app/app/[org]/telegram/groups/[groupId]/page.tsx` (Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹)  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¼ÐµÐ½ÐµÐ½Ð° Ð½Ð°-Ð»ÐµÑ‚Ñƒ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼Ñ‹Ð¼Ð¸ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ°Ð¼Ð¸

### `material_page_history`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð²ÐµÑ€ÑÐ¸Ð¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°  
**ÐŸÐ¾Ð»Ñ:** `id`, `page_id`, `org_id`, `version`, `content_md`, `editor_id`, `created_at`, `meta`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### `material_page_locks`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð² Ð¿Ñ€Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ð¾Ð² Ð¿Ñ€Ð¸ Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¼ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸  
**ÐŸÐ¾Ð»Ñ:** `page_id`, `org_id`, `locked_by`, `locked_at`, `expires_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ collaborative editing

### `material_search_index`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐŸÐ¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ð¹ Ð¸Ð½Ð´ÐµÐºÑ Ð´Ð»Ñ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐŸÐ¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð°Ð¼  
**ÐŸÐ¾Ð»Ñ:** `page_id`, `org_id`, `title`, `content_ts` (tsvector)  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°

---

## 3. Ð˜ÐÐ¢Ð•Ð“Ð ÐÐ¦Ð˜ÐžÐÐÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹)

### `integration_connectors`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¢Ð¸Ð¿Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹ (GetCourse, AmoCRM, Ð¸ Ñ‚.Ð´.)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹  
**ÐŸÐ¾Ð»Ñ:** `id`, `code`, `name`, `description`, `category`, `created_at`, `updated_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ GetCourse Ð¸ AmoCRM Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹

### `integration_connections`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹ Ð´Ð»Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¹  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹  
**ÐŸÐ¾Ð»Ñ:** `id`, `org_id`, `connector_id`, `status`, `sync_mode`, `schedule_cron`, `last_sync_at`, `credentials_encrypted`, `config`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹

### `integration_jobs`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð—Ð°Ð´Ð°Ñ‡Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¶Ð¾Ð±Ð°Ð¼Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸  
**ÐŸÐ¾Ð»Ñ:** `id`, `connection_id`, `job_type`, `status`, `started_at`, `finished_at`, `result`, `error`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð´Ð¶Ð¾Ð±Ð¾Ð²

### `integration_job_logs`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð´Ð¶Ð¾Ð±Ð¾Ð²  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐžÑ‚Ð»Ð°Ð´ÐºÐ° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹  
**ÐŸÐ¾Ð»Ñ:** `id`, `job_id`, `level`, `message`, `context`, `created_at`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### `participant_external_ids`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð²ÑÐ·ÑŒ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¼Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ð¼Ð¸ (GetCourse ID, AmoCRM ID)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐœÐ°Ð¿Ð¿Ð¸Ð½Ð³ Ð¼ÐµÐ¶Ð´Ñƒ Orbo Ð¸ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¼Ð¸ CRM  
**ÐŸÐ¾Ð»Ñ:** `id`, `participant_id`, `org_id`, `system_code`, `external_id`, `url`, `data`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹

---

## 4. Ð£Ð¡Ð¢ÐÐ Ð•Ð’Ð¨Ð˜Ð•/ÐÐ•Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•ÐœÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð«

### `telegram_identities` âŒ
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ‹Ðµ Telegram Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸ (Ð·Ð°Ð¼Ñ‹ÑÐµÐ» - Ð¾Ð´Ð¸Ð½ tg_user_id = Ð¾Ð´Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ)  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** 
- Ð˜Ð·Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾ Ð·Ð°Ð´ÑƒÐ¼Ð°Ð½Ð° ÐºÐ°Ðº Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð´Ð»Ñ Ð²ÑÐµÑ… Telegram Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
- Ð’ ÐºÐ¾Ð´Ðµ ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾
- `participants.identity_id` ÐµÑÑ‚ÑŒ, Ð½Ð¾ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ
- Ð—Ð°Ð¼ÐµÐ½ÐµÐ½Ð° Ð½Ð° `user_telegram_accounts` Ð´Ð»Ñ ÑÐ²ÑÐ·Ð¸ Ñ auth.users
- ÐšÐ¾Ð´ Ð² `app/api/telegram/analytics/data/route.ts` Ð—ÐÐšÐžÐœÐœÐ•ÐÐ¢Ð˜Ð ÐžÐ’ÐÐ (Ð¿Ñ‹Ñ‚Ð°Ð»ÑÑ Ð¸ÑÐºÐ°Ñ‚ÑŒ `full_name`, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð½ÐµÑ‚)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:** Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÑ… 10, 11, 12  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âŒ Ð£Ð”ÐÐ›Ð˜Ð¢Ð¬ Ð¸Ð»Ð¸ Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² `user_telegram_accounts`

### `telegram_activity_events` âŒ
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð”ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚/Ð¿Ñ€ÐµÐ´ÑˆÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¸Ðº `activity_events` Ð´Ð»Ñ Telegram ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÐµÑ‚ `activity_events`
- Ð’ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ ÐºÐ¾Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `activity_events`, Ð° Ð½Ðµ ÑÑ‚Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°
- Ð¡ÑÑ‹Ð»Ð°ÐµÑ‚ÑÑ Ð½Ð° `identity_id` Ð¸Ð· `telegram_identities` (ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ)  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:** 
- Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ 11, 12
- Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ `TELEGRAM_ANALYTICS_FIX.md`
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼ ÐºÐ¾Ð´Ðµ  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âŒ Ð£Ð”ÐÐ›Ð˜Ð¢Ð¬

### `telegram_updates` âŒ
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ID Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ñ… Telegram Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹ Ð´Ð»Ñ Ð¸Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚Ð¸  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð’ ÐºÐ¾Ð´Ðµ webhook ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ
- Ð˜Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ ÑÐµÐ¹Ñ‡Ð°Ñ Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ñ‡ÐµÑ€ÐµÐ· Ð‘Ð” (Ð¼Ð¾Ð¶Ð½Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Redis Ð¸Ð»Ð¸ in-memory)
- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð°, Ð½Ð¾ Ð½Ð¸Ð³Ð´Ðµ Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:** Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ 04, ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð² `lib/services/eventProcessingService.ts` (Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾?)  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âš ï¸ Ð›Ð¸Ð±Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ, Ð»Ð¸Ð±Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ

### `telegram_bots` âŒ
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð² Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð±Ð¾Ñ‚Ð¾Ð² (notifications bot, Ð¸ Ñ‚.Ð´.)  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð’ ÐºÐ¾Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ `TELEGRAM_BOT_TOKEN` Ð¸ `TELEGRAM_NOTIFICATIONS_BOT_TOKEN`
- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼ ÐºÐ¾Ð´Ðµ
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ñ… Ð±Ð¾Ñ‚Ð¾Ð² Ð½Ð° Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ:** 
- Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ 04
- Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð² `app/api/telegram/bot/notifications/setup/route.ts` Ð¸ `app/api/telegram/notifications/send/route.ts`, Ð½Ð¾ ÑÑ‚Ð¸ Ñ„Ð°Ð¹Ð»Ñ‹ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼ flow  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âš ï¸ Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» per-org Ð±Ð¾Ñ‚Ð¾Ð², ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ

### `profiles` (Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð¸Ð· auth schema?) âš ï¸
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ auth.users Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÑ… (02, 04), Ð½Ð¾ Ð½Ðµ Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ñ… Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÑ… ÑÑ…ÐµÐ¼Ñ‹
- Ð’ ÐºÐ¾Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² 2 Ð¼ÐµÑÑ‚Ð°Ñ…: `app/api/telegram/notifications/webhook/route.ts` Ð¸ `app/api/user/telegram-id/route.ts`
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹ Ð½Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚, Ð¿Ð¾Ð»Ñ `telegram_user_id`, `telegram_notifications_enabled`, `activity_score`, `risk_score` Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹, Ð½Ð¾ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾
- ÐšÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ÑƒÐµÑ‚ Ñ `user_telegram_accounts`  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âš ï¸ Ð›Ð¸Ð±Ð¾ Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° `user_telegram_accounts`, Ð»Ð¸Ð±Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ð¾Ð»Ñ

### `material_folders` Ð¸ `material_items` âš ï¸
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ñ‚Ð°Ñ€Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð² (Ð¿Ð°Ð¿ÐºÐ¸ + Ð°Ð¹Ñ‚ÐµÐ¼Ñ‹)  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð² `01_initial_schema.sql`
- Ð—Ð°Ð¼ÐµÐ½ÐµÐ½Ð° Ð½Ð° `material_pages` Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ 17
- Ð’ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ ÐºÐ¾Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `material_pages`, Ð° Ð½Ðµ folders/items  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âš ï¸ ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ, ÐµÑÐ»Ð¸ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ - ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ

### `material_access` âš ï¸
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð°Ð¼ (Ð¿Ð¾ Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ð¼ Ð¸Ð»Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼)  
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:**
- Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð² `01_initial_schema.sql`
- Ð’ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ ÐºÐ¾Ð´Ðµ `material_pages` Ð¸Ð¼ÐµÐµÑ‚ Ð¿Ð¾Ð»Ðµ `visibility` ('org_members' Ð¸Ð»Ð¸ 'admins_only')
- Ð“Ñ€Ð°Ð½ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½  
**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** âš ï¸ Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ - ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ

---

## 5. Ð”ÐžÐŸÐžÐ›ÐÐ˜Ð¢Ð•Ð›Ð¬ÐÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« (ÑÐ»ÑƒÐ¶ÐµÐ±Ð½Ñ‹Ðµ)

### `telegram_verification_logs`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð›Ð¾Ð³Ð¸ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Telegram Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²  
**ÐŸÐ¾Ð»Ñ:** `id`, `user_id`, `org_id`, `telegram_user_id`, `verification_code`, `action`, `ip_address`, `user_agent`, `success`, `error_message`  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð² `telegram_ownership_system.sql`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð°ÑƒÐ´Ð¸Ñ‚Ð°

### `telegram_group_admins`
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¾Ð² Telegram Ð³Ñ€ÑƒÐ¿Ð¿  
**ÐŸÐ¾Ð»Ñ:** `id`, `tg_chat_id`, `telegram_user_id`, `is_admin`, `custom_title`, `is_anonymous`, `can_manage_chat`, Ð¸ Ñ‚.Ð´.  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð² `telegram_ownership_system.sql`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

---

## 6. ÐŸÐ Ð•Ð”Ð›ÐžÐ–Ð•ÐÐ˜Ð¯ ÐŸÐž ÐžÐŸÐ¢Ð˜ÐœÐ˜Ð—ÐÐ¦Ð˜Ð˜ Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð« Ð‘Ð”

### ðŸ”´ ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ

1. **`telegram_identities`** - Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ð·Ð°Ð¼ÐµÐ½ÐµÐ½Ð° Ð½Ð° `user_telegram_accounts`
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ `participants.identity_id` FK
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð² ÐºÐ¾Ð´Ðµ

2. **`telegram_activity_events`** - Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÐµÑ‚ `activity_events`
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÑ…/Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸

3. **`telegram_updates`** - ÑÐ¾Ð·Ð´Ð°Ð½Ð°, Ð½Ð¾ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ
   - Ð›Ð¸Ð±Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð´ÐµÐ¼Ð¿Ð¾Ñ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ÑÑ‚Ñƒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ
   - Ð›Ð¸Ð±Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ (Redis/in-memory Ð»ÑƒÑ‡ÑˆÐµ)

### ðŸŸ¡ Ð ÐÐ¡Ð¡ÐœÐžÐ¢Ð Ð•Ð¢Ð¬ - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ

4. **`telegram_bots`** - Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ, Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» per-org Ð±Ð¾Ñ‚Ð¾Ð² Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½
   - Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐµÑ‚ÑÑ - ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ
   - Ð•ÑÐ»Ð¸ Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐµÑ‚ÑÑ - Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

5. **`material_folders`, `material_items`, `material_access`** - ÑÑ‚Ð°Ñ€Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²
   - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÐµÑÑ‚ÑŒ Ð»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² ÑÑ‚Ð¸Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ñ…
   - Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ - ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ
   - Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ - Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° `material_pages`

6. **`profiles.telegram_user_id`** - Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÐµÑ‚ `user_telegram_accounts`
   - ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ð² `user_telegram_accounts`
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ð¾Ð»Ñ Ð¸Ð· `profiles`

7. **`group_metrics`** - Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼Ñ‹Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ (views)
   - Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ materialized views Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
   - Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

### ðŸŸ¢ Ð£Ð›Ð£Ð§Ð¨Ð˜Ð¢Ð¬ - ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ

8. **Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑÑ‹:**
   - `participants(email)` - Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ email
   - `participant_messages(analyzed_at)` - Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð½ÐµÐ°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
   - `event_registrations(status, event_id)` - Ð´Ð»Ñ Ð¿Ð¾Ð´ÑÑ‡ÐµÑ‚Ð° registered

9. **Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ CHECK constraints:**
   - `events.end_time > start_time`
   - `telegram_auth_codes.expires_at > created_at`
   - `organization_invites.current_uses <= max_uses`

10. **Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ COMMENT Ð´Ð»Ñ Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð¸ Ð²Ð°Ð¶Ð½Ñ‹Ñ… ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº**
    - Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²

11. **ÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸:**
    - 41 Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ñ - ÑÑ‚Ð¾ Ð¼Ð½Ð¾Ð³Ð¾ Ð´Ð»Ñ MVP
    - Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ consolidated migration file Ñ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÑ…ÐµÐ¼Ð¾Ð¹
    - Ð£Ð¿Ñ€Ð¾ÑÑ‚Ð¸Ñ‚ Ð´ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° Ð½Ð¾Ð²Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

---

## 7. Ð˜Ð¢ÐžÐ“ÐžÐ’ÐÐ¯ Ð¡Ð¢ÐÐ¢Ð˜Ð¡Ð¢Ð˜ÐšÐ

**Ð’ÑÐµÐ³Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ†:** ~30-35

**ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ:** 13 Ñ‚Ð°Ð±Ð»Ð¸Ñ†  
**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ð¾:** 12 Ñ‚Ð°Ð±Ð»Ð¸Ñ†  
**ÐÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ / ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ðµ:** 5-7 Ñ‚Ð°Ð±Ð»Ð¸Ñ†

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:**
- Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ: 3 Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ ÑÑ€Ð°Ð·Ñƒ (`telegram_identities`, `telegram_activity_events`, `telegram_updates`)
- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ: 4 Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
- ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ: Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑÑ‹, constraints, ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸
- ÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

**ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚:**
- Ð£Ð¿Ñ€Ð¾Ñ‰ÐµÐ½Ð¸Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ð½Ð° 15-20%
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð·Ð° ÑÑ‡ÐµÑ‚ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²
- Ð¡Ð½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð´Ð¾Ð»Ð³Ð°
- Ð‘Ð¾Ð»ÐµÐµ Ð¿Ð¾Ð½ÑÑ‚Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

---

## 8. ÐŸÐ›ÐÐ Ð”Ð•Ð™Ð¡Ð¢Ð’Ð˜Ð™

### Ð­Ñ‚Ð°Ð¿ 1: Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ (Ð±ÐµÐ· Ñ€Ð¸ÑÐºÐ°)
1. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ `telegram_updates` (Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ)
2. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ `telegram_activity_events` (Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚)

### Ð­Ñ‚Ð°Ð¿ 2: ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
3. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÐµÑÑ‚ÑŒ Ð»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² `telegram_identities`
4. Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ - Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² `user_telegram_accounts`
5. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ `telegram_identities` Ð¸ `participants.identity_id`

### Ð­Ñ‚Ð°Ð¿ 3: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†
6. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ `material_folders`, `material_items`, `material_access`
7. Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ - ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ
8. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ `telegram_bots` - Ð»Ð¸Ð±Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ, Ð»Ð¸Ð±Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ

### Ð­Ñ‚Ð°Ð¿ 4: ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ
9. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°ÑŽÑ‰Ð¸Ðµ Ð¸Ð½Ð´ÐµÐºÑÑ‹
10. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ CHECK constraints
11. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ COMMENT Ð´Ð»Ñ Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†

### Ð­Ñ‚Ð°Ð¿ 5: ÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
12. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ consolidated migration file
13. Ð£Ð¿Ñ€Ð¾ÑÑ‚Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¿Ð°Ð¿ÐºÐ¸ migrations

---

**ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ:** Ð’ÑÐµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒÑÑ Ñ backup'Ð¾Ð¼ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…!


