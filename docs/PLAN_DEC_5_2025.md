# üìã –ü–ª–∞–Ω —Ä–∞–±–æ—Ç –Ω–∞ 5 –¥–µ–∫–∞–±—Ä—è 2025

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 6-8 —á–∞—Å–æ–≤  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI-–∞–Ω–∞–ª–∏–∑–∞ ‚Üí –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí Unisender Go

---

## üî¥ –ó–∞–¥–∞—á–∞ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥ AI-–∞–Ω–∞–ª–∏–∑–∞ (2-3 —á–∞—Å–∞)

### –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ AI-–∞–Ω–∞–ª–∏–∑–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å –¥–µ—Å—è—Ç–∫–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ –≤–∫–ª–∞–¥–∫–µ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "0 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞".

### –ü—Ä–∏—á–∏–Ω–∞
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è `activity_events` –ø–æ `org_id` –≤–º–µ—Å—Ç–æ `tg_chat_id` –≥—Ä—É–ø–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å `org_id` –ø–µ—Ä–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∏–ª–∞ webhook, –Ω–æ –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π.

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. `lib/services/participantEnrichmentService.ts`

**–°—Ç—Ä–æ–∫–∞ ~85-91 (—Ñ—É–Ω–∫—Ü–∏—è `enrichParticipant`):**
```typescript
// –ë–´–õ–û:
const { data: messages, error: messagesError } = await supabaseAdmin
  .from('activity_events')
  .select('id, tg_user_id, message_id, event_type, created_at, meta')
  .eq('org_id', orgId)  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê
  .eq('event_type', 'message')
  ...

// –ù–£–ñ–ù–û:
// 1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å tg_chat_id –≥—Ä—É–ø–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
const { data: orgGroups } = await supabaseAdmin
  .from('org_telegram_groups')
  .select('tg_chat_id')
  .eq('org_id', orgId)

const chatIds = (orgGroups || []).map(g => g.tg_chat_id)

// 2. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ tg_chat_id –≤–º–µ—Å—Ç–æ org_id
const { data: messages, error: messagesError } = await supabaseAdmin
  .from('activity_events')
  .select('id, tg_user_id, tg_chat_id, message_id, event_type, created_at, meta')
  .in('tg_chat_id', chatIds)  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï
  .eq('event_type', 'message')
  ...
```

**–°—Ç—Ä–æ–∫–∞ ~100-107 (–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–∫—Ü–∏–π):**
```typescript
// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
.in('tg_chat_id', chatIds)  // –≤–º–µ—Å—Ç–æ .eq('org_id', orgId)
```

**–°—Ç—Ä–æ–∫–∞ ~555-562 (—Ñ—É–Ω–∫—Ü–∏—è `estimateEnrichmentCost`):**
```typescript
// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
// 1. –ü–æ–ª—É—á–∏—Ç—å chatIds
// 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .in('tg_chat_id', chatIds)
```

**–°—Ç—Ä–æ–∫–∞ ~310-320 (—Ñ—É–Ω–∫—Ü–∏—è `calculateActivityStats`):**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ org_id
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤–æ –≤–∫–ª–∞–¥–∫–µ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É AI-–∞–Ω–∞–ª–∏–∑–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `messageCount` > 0 –≤ –æ—Ç–≤–µ—Ç–µ API
4. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∞–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

---

## üü° –ó–∞–¥–∞—á–∞ 2: –£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ AI-–∞–Ω–∞–ª–∏–∑–∞ (2-3 —á–∞—Å–∞)

### –¶–µ–ª—å
–°–¥–µ–ª–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞ —Å—á—ë—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

### –ü–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### A. –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–æ–≤ (reply_to)
**–§–∞–π–ª:** `lib/services/participantEnrichmentService.ts`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è AI, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å `reply_to_message_id`:
   - –ù–∞–π—Ç–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ `participant_messages`
   - –í–∫–ª—é—á–∏—Ç—å –µ–≥–æ —Ç–µ–∫—Å—Ç –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è AI:**
```typescript
interface MessageWithContext {
  text: string;              // –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞
  created_at: string;
  reply_to_text?: string;    // ‚≠ê NEW: –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç
  reply_to_author?: string;  // ‚≠ê NEW: –ê–≤—Ç–æ—Ä –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–º–ø—Ç–µ:**
```
–°–æ–æ–±—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞:
- ‚û°Ô∏è - —Å–æ–æ–±—â–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- ‚Ü©Ô∏è - —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ —É—á–∞—Å—Ç–Ω–∏–∫ –æ—Ç–≤–µ—á–∞–ª (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
```

#### B. –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–¥–∞ (2-3 —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ/–ø–æ—Å–ª–µ)
**–§–∞–π–ª:** `lib/services/participantEnrichmentService.ts`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞, –∑–∞–≥—Ä—É–∑–∏—Ç—å ¬±2 —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ç–æ–π –∂–µ –≥—Ä—É–ø–ø–µ
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `message_thread_id` –µ—Å–ª–∏ –µ—Å—Ç—å (—Ç–æ–ø–∏–∫–∏)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface MessageWithContext {
  text: string;
  created_at: string;
  reply_to_text?: string;
  thread_context?: string[];  // ‚≠ê NEW: 2-3 —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ/–ø–æ—Å–ª–µ
}
```

#### C. –†–µ–∞–∫—Ü–∏–∏ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
**–§–∞–π–ª:** `lib/services/participantEnrichmentService.ts`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫ —Å—Ç–∞–≤–∏–ª —Ä–µ–∞–∫—Ü–∏–∏
2. –ò–∑–≤–ª–µ—á—å —Ç–µ–º—ã/–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ —ç—Ç–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
3. –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–º–ø—Ç –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–º–ø—Ç–µ:**
```
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç - —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–∏—Å—å —É—á–∞—Å—Ç–Ω–∏–∫—É (—Ä–µ–∞–∫—Ü–∏–∏):
üî• "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è 1..."
üëç "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è 2..."

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –æ–± –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞.
```

### –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
1. **A (reply_to)** ‚Äî —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. **C (—Ä–µ–∞–∫—Ü–∏–∏)** ‚Äî –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è, —Ö–æ—Ä–æ—à–∏–π —Å–∏–≥–Ω–∞–ª
3. **B (—Ç—Ä–µ–¥)** ‚Äî –µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤—Ä–µ–º—è

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- `lib/services/participantEnrichmentService.ts` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `lib/services/enrichment/openaiService.ts` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞

---

## üü¢ –ó–∞–¥–∞—á–∞ 3: –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤—Ä–µ–º—è)

### Scope (MVP)
–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–≤.

### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –ú–∏–≥—Ä–∞—Ü–∏—è: `db/migrations/136_admin_error_logs.sql`
```sql
CREATE TABLE public.admin_error_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  -- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
  category TEXT NOT NULL, -- 'auth', 'telegram', 'import', 'webhook', 'api'
  severity TEXT DEFAULT 'error', -- 'error', 'warning', 'critical'
  
  -- –ö–æ–Ω—Ç–µ–∫—Å—Ç
  org_id UUID REFERENCES organizations(id),
  user_id UUID,
  
  -- –î–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
  error_message TEXT NOT NULL,
  error_code TEXT,
  stack_trace TEXT,
  request_path TEXT,
  request_method TEXT,
  metadata JSONB DEFAULT '{}'::jsonb,
  
  -- –°—Ç–∞—Ç—É—Å
  resolved BOOLEAN DEFAULT FALSE,
  resolved_at TIMESTAMPTZ,
  resolved_by UUID
);

CREATE INDEX idx_admin_error_logs_created ON admin_error_logs(created_at DESC);
CREATE INDEX idx_admin_error_logs_category ON admin_error_logs(category);
CREATE INDEX idx_admin_error_logs_org ON admin_error_logs(org_id);
```

#### 2. –°–µ—Ä–≤–∏—Å: `lib/services/errorLoggingService.ts`
```typescript
export async function logAdminError(params: {
  category: 'auth' | 'telegram' | 'import' | 'webhook' | 'api';
  severity?: 'error' | 'warning' | 'critical';
  errorMessage: string;
  errorCode?: string;
  stackTrace?: string;
  orgId?: string;
  userId?: string;
  requestPath?: string;
  requestMethod?: string;
  metadata?: Record<string, any>;
}): Promise<void>
```

#### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞:
- `app/api/telegram/webhook/route.ts` ‚Äî –æ—à–∏–±–∫–∏ webhook
- `app/api/auth/callback/route.ts` ‚Äî –æ—à–∏–±–∫–∏ auth
- `app/api/telegram/import-history/*/route.ts` ‚Äî –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
- `app/p/[org]/auth/page.tsx` ‚Äî –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

#### 4. UI –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–≤:
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/errors` —Å —Ç–∞–±–ª–∏—Ü–µ–π –æ—à–∏–±–æ–∫
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, severity, org_id
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ resolved

---

## üîµ –ó–∞–¥–∞—á–∞ 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Unisender Go (–æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º)

**–°—Ç–∞—Ç—É—Å:** –û—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å  
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ AI-–∞–Ω–∞–ª–∏–∑ –∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìä –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| # | –ó–∞–¥–∞—á–∞ | –í—Ä–µ–º—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---|--------|-------|-----------|
| 1 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥ AI-–∞–Ω–∞–ª–∏–∑–∞ (org_id ‚Üí tg_chat_id) | 2-3h | üî¥ Critical |
| 2 | A. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–æ–≤ (reply_to) | 1h | üü° High |
| 3 | C. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –∫–∞–∫ —Å–∏–≥–Ω–∞–ª | 1h | üü° High |
| 4 | B. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–¥–∞ | 1h | üü¢ Medium |
| 5 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI-–∞–Ω–∞–ª–∏–∑–∞ | 0.5h | üî¥ Critical |
| 6 | –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –≤—Ä–µ–º—è) | 2-3h | üü¢ Medium |

**Total:** 6-8 —á–∞—Å–æ–≤

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (DoD)

- [ ] AI-–∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] AI-–∞–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–æ–≤ (reply_to) –≤–∫–ª—é—á—ë–Ω –≤ –∞–Ω–∞–ª–∏–∑
- [ ] –†–µ–∞–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ —Å–∏–≥–Ω–∞–ª –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ö–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞ —É–ª—É—á—à–∏–ª–æ—Å—å (—Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
lib/services/
‚îú‚îÄ‚îÄ participantEnrichmentService.ts  ‚Üê –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ enrichment/
‚îÇ   ‚îî‚îÄ‚îÄ openaiService.ts             ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
‚îî‚îÄ‚îÄ errorLoggingService.ts           ‚Üê –ù–æ–≤—ã–π —Ñ–∞–π–ª (–µ—Å–ª–∏ –≤—Ä–µ–º—è)

app/api/participants/[participantId]/
‚îî‚îÄ‚îÄ enrich-ai/route.ts               ‚Üê –ü—Ä–æ–≤–µ—Ä–∏—Ç—å params

db/migrations/
‚îî‚îÄ‚îÄ 136_admin_error_logs.sql         ‚Üê –ù–æ–≤—ã–π —Ñ–∞–π–ª (–µ—Å–ª–∏ –≤—Ä–µ–º—è)
```

---

**Last Updated:** 4 –¥–µ–∫–∞–±—Ä—è 2025, 23:00  
**Author:** AI Assistant

